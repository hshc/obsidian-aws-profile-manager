/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/aws-profile-handler/lib/ini.js
var require_ini = __commonJS({
  "node_modules/aws-profile-handler/lib/ini.js"(exports, module2) {
    "use strict";
    var Ini2 = class {
      static decodeIniData(rawData) {
        let currentSection;
        let map = {};
        let uniqueSectionFlag = false;
        let lines = rawData.split(/\r?\n/);
        if (Ini2._emptyCheck(lines))
          return {};
        lines.forEach((line) => {
          line = line.split(/(^|\s)[;#]/)[0].trim();
          if (!line)
            return;
          let section = line.match(/^\s*\[([^\[\]]+)\]\s*$/);
          if (section && uniqueSectionFlag) {
            throw new Error("Invalid AWS credential file. Cannot have nested sessions");
          } else if (section) {
            currentSection = section[1];
            uniqueSectionFlag = true;
          } else {
            let item = line.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);
            if (item) {
              map[currentSection] = map[currentSection] || {};
              map[currentSection][item[1]] = item[2];
              uniqueSectionFlag = false;
            } else {
              throw new Error("Invalid AWS credential file. Incomplete key/value pair");
            }
          }
        });
        return map;
      }
      static encodeIniFormat(iniObject) {
        function _flattenObject(object) {
          let listObject = Object.keys(object).reduce((result, key) => {
            result.push(key + "=" + object[key]);
            return result;
          }, []);
          return listObject;
        }
        let dividedIntoListOfObjects = Object.keys(iniObject).map((session) => {
          let newObject = {};
          newObject[session] = iniObject[session];
          return newObject;
        });
        let encodedIniContentList = dividedIntoListOfObjects.reduce(
          (iniContentList, sessionObject) => {
            let sessionName = Object.keys(sessionObject)[0];
            iniContentList.push("[" + sessionName + "]");
            let listChild = _flattenObject(sessionObject[sessionName]);
            return iniContentList.concat(listChild, "");
          },
          []
        );
        return encodedIniContentList.join("\n");
      }
      static _emptyCheck(array) {
        if (array.length === 0)
          return true;
        for (let item of array) {
          if (item.trim().length !== 0) {
            return false;
          }
        }
        return true;
      }
    };
    module2.exports = Ini2;
  }
});

// node_modules/aws-profile-handler/lib/utils.js
var require_utils = __commonJS({
  "node_modules/aws-profile-handler/lib/utils.js"(exports, module2) {
    "use strict";
    var fs2 = require("fs");
    var Utils2 = class {
      static writeFile(filePath, encodedOutput) {
        fs2.writeFileSync(filePath, encodedOutput, "utf-8");
      }
      static deepCopy(object) {
        return JSON.parse(JSON.stringify(object));
      }
      static readFile(filePath) {
        return fs2.readFileSync(filePath, "utf-8");
      }
    };
    module2.exports = Utils2;
  }
});

// node_modules/aws-profile-handler/index.js
var require_aws_profile_handler = __commonJS({
  "node_modules/aws-profile-handler/index.js"(exports, module2) {
    "use strict";
    var path2 = require("path");
    var os2 = require("os");
    var Ini2 = require_ini();
    var Utils2 = require_utils();
    var defaultFilePath2 = path2.join(os2.homedir(), ".aws", "credentials");
    var awsProfileHandler = class {
      /**
       * @deprecated
       * @param filePath
       */
      constructor(filePath) {
        const defaultFilePath3 = path2.join(os2.homedir(), ".aws", "credentials");
        this.filePath = filePath || defaultFilePath3;
        this.profileObject = Ini2.decodeIniData(Utils2.readFile(this.filePath));
      }
      /**
       * @deprecated
       * @return {Array}
       */
      listProfiles() {
        return Object.keys(this.profileObject);
      }
      /**
       * @deprecated
       * @param profile
       * @return {*}
       */
      getProfileCredentials(profile) {
        let credentials = this.profileObject[profile];
        if (!credentials)
          return null;
        else
          return Utils2.deepCopy(credentials);
      }
      /**
       * @deprecated
       * @param profile
       */
      deleteProfile(profile) {
        let outputProfileObject = Utils2.deepCopy(this.profileObject);
        delete outputProfileObject[profile];
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(this.filePath, encodedProfile);
      }
      /**
       * @deprecated
       * @param profile
       * @param credentials
       */
      addProfile(profile, credentials) {
        let outputProfileObject = Utils2.deepCopy(this.profileObject);
        outputProfileObject[profile] = credentials;
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(this.filePath, encodedProfile);
      }
      static listProfiles(filePath) {
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        return Object.keys(profileObject);
      }
      static getProfileCredentials(profile, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let credentials = profileObject[profile];
        if (!credentials)
          return null;
        else
          return Utils2.deepCopy(credentials);
      }
      static deleteProfile(profile, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let outputProfileObject = Utils2.deepCopy(profileObject);
        delete outputProfileObject[profile];
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(credentialPath, encodedProfile);
      }
      static addProfile(profile, credentials, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        if (!credentials || Object.keys(credentials).length === 0) {
          throw new Error("Invalid Input: credentials cannot be omitted nor empty.");
        }
        if (Object.keys(credentials).length !== 2 || !this.isValidSchema(credentials) && !this.isValidAltSchema(credentials)) {
          throw new Error("Invalid input: credentials schema is invalid.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let outputProfileObject = Utils2.deepCopy(profileObject);
        outputProfileObject[profile] = credentials;
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(credentialPath, encodedProfile);
      }
      static isValidSchema(credentials) {
        return credentials.hasOwnProperty("aws_access_key_id") && credentials.hasOwnProperty("aws_secret_access_key");
      }
      static isValidAltSchema(credentials) {
        return credentials.hasOwnProperty("role_arn") && credentials.hasOwnProperty("source_profile");
      }
    };
    module2.exports = awsProfileHandler;
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  SuggestAwsProfileModal: () => SuggestAwsProfileModal,
  default: () => AwsProfileManagerPlugin,
  getSortedProfilesCredentials: () => getSortedProfilesCredentials
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var os = __toESM(require("os"));
var path = __toESM(require("path"));
var fs = __toESM(require("fs"));
var profileHandler = __toESM(require_aws_profile_handler());
var Ini = require_ini();
var Utils = require_utils();
var defaultFilePath = path.join(os.homedir(), ".aws", "credentials");
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var DEFAULT_PROFILE = "default";
function addProfile(profile, credentials, filePath) {
  if (!profile || profile.trim().length === 0) {
    throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
  }
  if (!credentials || Object.keys(credentials).length === 0) {
    throw new Error("Invalid Input: credentials cannot be omitted nor empty.");
  }
  if (Object.keys(credentials).length < 3 || !profileHandler.isValidSchema(credentials) && !profileHandler.isValidAltSchema(credentials)) {
    throw new Error("Invalid input: credentials schema is invalid.");
  }
  let credentialPath = filePath || defaultFilePath;
  let profileObject = Ini.decodeIniData(Utils.readFile(credentialPath));
  let outputProfileObject = Utils.deepCopy(profileObject);
  outputProfileObject[profile] = credentials;
  let encodedProfile = Ini.encodeIniFormat(outputProfileObject);
  Utils.writeFile(credentialPath, encodedProfile);
}
function getSortedProfilesCredentials(includeDefaultProfile = true) {
  const credentialsFile = path.join(os.homedir(), ".aws", "credentials");
  let result = [];
  if (fs.existsSync(credentialsFile)) {
    try {
      const profiles = profileHandler.listProfiles();
      if (includeDefaultProfile === false) {
        const index = profiles.indexOf(DEFAULT_PROFILE);
        if (index > -1) {
          profiles.splice(index, 1);
        }
      }
      result = profiles.sort();
    } catch (error) {
      console.log(`File '${credentialsFile}' is not valid.`);
      console.log(error);
    }
  } else {
    console.log(`File '${credentialsFile}' does not exist.`);
  }
  return result;
}
var sortedProfilesCreds = getSortedProfilesCredentials();
var SuggestAwsProfileModal = class extends import_obsidian.SuggestModal {
  // Returns all available suggestions.
  getSuggestions(query) {
    let localsortedProfilesCreds = sortedProfilesCreds;
    let choice = localsortedProfilesCreds.filter(
      (profile) => profile.toLowerCase().includes(query.toLowerCase())
    );
    return choice;
  }
  // Renders each suggestion item.
  renderSuggestion(profile, el) {
    el.createEl("div", { text: profile });
  }
  // Perform action on the selected suggestion.
  onChooseSuggestion(profile, evt) {
    let profileCreds = profileHandler.getProfileCredentials(profile);
    addProfile("default", profileCreds);
    new import_obsidian.Notice(`New default profile is '${profile}'`);
    let items = document.getElementsByClassName("status-bar-item plugin-obsidian-aws-profile-manager");
    items[0].innerHTML = "";
    items[0].createEl("span", { text: "\u{1F3AD}" });
    items[0].createEl("span", { text: profile });
  }
};
var AwsProfileManagerPlugin = class extends import_obsidian.Plugin {
  async onload() {
    const item = this.addStatusBarItem();
    item.createEl("span", { text: "\u{1F3AD}" });
    item.createEl("span", { text: "Choose a profile" });
    this.addCommand({
      id: "switch profile",
      name: "Switch to AWS profile",
      callback: () => {
        console.log("Hey, you! " + os.homedir());
        new SuggestAwsProfileModal(this.app).open();
      }
    });
    await this.loadSettings();
    (0, import_obsidian.addIcon)("aws", '<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 455 455" fill="#FFFFFF" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M235.916,190.817c-10.274,0.966-32.834,4.09-43.941,13.309c-14.653,12.159-20.575,52.996,11.215,52.996c4.959,0,9.285-0.5,13.073-1.346c14.641-3.251,24.968-16.399,24.968-31.399v-28.722C241.231,192.791,238.768,190.545,235.916,190.817z"/><path d="M0,0v455h455V0H0z M215.655,111.854c-19.068,0-31.26,20.675-35.458,29.166c-1.041,2.116-3.351,3.277-5.673,2.885l-38.255-6.464c-3.168-0.53-5.173-3.698-4.251-6.778c4.815-16.085,23.591-59.949,85.197-59.949c75.437,0,82.607,48.625,82.607,60.468v98.509c0,0-0.314,8.416,7.169,19.015c2.399,3.382,4.34,6.073,5.878,8.155c2.649,3.59,2.202,8.58-1.03,11.659l-27.895,26.576c-3.288,3.113-8.408,3.285-11.845,0.336c-3.557-3.049-7.95-7.116-11.237-11.196c-3.068-3.796-5.445-7.244-7.114-9.846c-1.369-2.127-4.415-2.224-5.923-0.208c-6.736,9.091-24.893,28.45-57.097,28.45c-42.084,0-70.134-33.981-70.134-63.278c0-29.305,18.701-66.716,59.224-75.132c28.439-5.9,46.898-5.673,55.381-5.001c2.929,0.228,5.401-2.094,5.401-5.023v-22.7C240.601,131.499,239.668,111.865,215.655,111.854z M319.162,358.74c-24.632,13.711-48.637,25.546-105.667,25.546c-69.298,0-124.701-44.091-135.6-57.497c-10.912-13.409-7.333-20.262-7.333-20.262s4.207-8.266,16.052,0c11.845,8.252,67.335,47.226,122.51,47.226c55.176,0,93.508-14.655,105.981-19.959c12.462-5.292,26.498-11.92,29.927-5.49C348.459,334.739,343.783,345.021,319.162,358.74z M354.142,359.132c-7.267-3.937,0.239-11.931,3.274-21.508c3.038-9.588,4.676-18.004,0-22.127c-4.673-4.132-11.454-2.191-26.887-0.325c-15.424,1.877-14.492-5.143-14.492-5.143s0-2.796,3.504-5.14c3.504-2.333,50.891-21.9,62.192-4.437C395.326,321.452,362.634,363.73,354.142,359.132z"/>');
    const ribbonIconEl = this.addRibbonIcon("aws", "AWS Profile Manager", (evt) => {
      new import_obsidian.Notice("Hej Bro " + os.homedir() + ", make your aws profile choice !");
      new SuggestAwsProfileModal(this.app).open();
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    this.addSettingTab(new AwsProfileManagerSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
    console.log("unloading plugin");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var AwsProfileManagerSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for my awesome plugin." });
    new import_obsidian.Setting(containerEl).setName("Setting #1").setDesc("It's a secret").addText((text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.mySetting).onChange(async (value) => {
      console.log("Secret: " + value);
      this.plugin.settings.mySetting = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2F3cy1wcm9maWxlLWhhbmRsZXIvbGliL2luaS5qcyIsICJub2RlX21vZHVsZXMvYXdzLXByb2ZpbGUtaGFuZGxlci9saWIvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL2F3cy1wcm9maWxlLWhhbmRsZXIvaW5kZXguanMiLCAibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBJbmkge1xuICAgIHN0YXRpYyBkZWNvZGVJbmlEYXRhKHJhd0RhdGEpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRTZWN0aW9uO1xuICAgICAgICBsZXQgbWFwID0ge307XG4gICAgICAgIGxldCB1bmlxdWVTZWN0aW9uRmxhZyA9IGZhbHNlO1xuICAgICAgICBsZXQgbGluZXMgPSByYXdEYXRhLnNwbGl0KC9cXHI/XFxuLyk7XG5cbiAgICAgICAgaWYgKEluaS5fZW1wdHlDaGVjayhsaW5lcykpIHJldHVybiB7fTtcblxuXG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMgcmVnZXggd2lsbCByZW1vdmUgY29tbWVudHMgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGVhY2ggYXdzIHByb2ZpbGVcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNwbGl0KC8oXnxcXHMpWzsjXS8pWzBdLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghbGluZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBsZXQgc2VjdGlvbiA9IGxpbmUubWF0Y2goL15cXHMqXFxbKFteXFxbXFxdXSspXFxdXFxzKiQvKTtcbiAgICAgICAgICAgIGlmIChzZWN0aW9uICYmIHVuaXF1ZVNlY3Rpb25GbGFnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFXUyBjcmVkZW50aWFsIGZpbGUuIENhbm5vdCBoYXZlIG5lc3RlZCBzZXNzaW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZWN0aW9uID0gc2VjdGlvblsxXTtcbiAgICAgICAgICAgICAgICB1bmlxdWVTZWN0aW9uRmxhZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gbGluZS5tYXRjaCgvXlxccyooLis/KVxccyo9XFxzKiguKz8pXFxzKiQvKTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl0gPSBtYXBbY3VycmVudFNlY3Rpb25dIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICBtYXBbY3VycmVudFNlY3Rpb25dW2l0ZW1bMV1dID0gaXRlbVsyXTtcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlU2VjdGlvbkZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQVdTIGNyZWRlbnRpYWwgZmlsZS4gSW5jb21wbGV0ZSBrZXkvdmFsdWUgcGFpcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuXG4gICAgc3RhdGljIGVuY29kZUluaUZvcm1hdChpbmlPYmplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gX2ZsYXR0ZW5PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICBsZXQgbGlzdE9iamVjdCA9IE9iamVjdC5rZXlzKG9iamVjdCkucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSArIFwiPVwiICsgb2JqZWN0W2tleV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdE9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkaXZpZGVkSW50b0xpc3RPZk9iamVjdHMgPSBPYmplY3Qua2V5cyhpbmlPYmplY3QpLm1hcCgoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld09iamVjdCA9IHt9O1xuICAgICAgICAgICAgbmV3T2JqZWN0W3Nlc3Npb25dID0gaW5pT2JqZWN0W3Nlc3Npb25dO1xuICAgICAgICAgICAgcmV0dXJuIG5ld09iamVjdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGVuY29kZWRJbmlDb250ZW50TGlzdCA9IGRpdmlkZWRJbnRvTGlzdE9mT2JqZWN0cy5yZWR1Y2UoXG4gICAgICAgICAgICAoaW5pQ29udGVudExpc3QsIHNlc3Npb25PYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvbk5hbWUgPSBPYmplY3Qua2V5cyhzZXNzaW9uT2JqZWN0KVswXTtcbiAgICAgICAgICAgICAgICBpbmlDb250ZW50TGlzdC5wdXNoKFwiW1wiICsgc2Vzc2lvbk5hbWUgKyBcIl1cIik7XG5cbiAgICAgICAgICAgICAgICBsZXQgbGlzdENoaWxkID0gX2ZsYXR0ZW5PYmplY3Qoc2Vzc2lvbk9iamVjdFtzZXNzaW9uTmFtZV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmlDb250ZW50TGlzdC5jb25jYXQobGlzdENoaWxkLCAnJyk7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkSW5pQ29udGVudExpc3Quam9pbignXFxuJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIF9lbXB0eUNoZWNrKGFycmF5KSB7XG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGFycmF5KSB7XG4gICAgICAgICAgICBpZiAoaXRlbS50cmltKCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbmk7IiwgIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5jbGFzcyBVdGlscyB7XG4gICAgc3RhdGljIHdyaXRlRmlsZShmaWxlUGF0aCwgZW5jb2RlZE91dHB1dCkge1xuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBlbmNvZGVkT3V0cHV0LCAndXRmLTgnKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVlcENvcHkob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWFkRmlsZShmaWxlUGF0aCkge1xuICAgICAgICByZXR1cm4gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmLTgnKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVXRpbHM7IiwgIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcbmNvbnN0IEluaSA9IHJlcXVpcmUoJy4vbGliL2luaScpO1xuY29uc3QgVXRpbHMgPSByZXF1aXJlKCcuL2xpYi91dGlscycpO1xuY29uc3QgZGVmYXVsdEZpbGVQYXRoID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJy5hd3MnLCAnY3JlZGVudGlhbHMnKTtcblxuY2xhc3MgYXdzUHJvZmlsZUhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHBhcmFtIGZpbGVQYXRoXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZmlsZVBhdGgpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEZpbGVQYXRoID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJy5hd3MnLCAnY3JlZGVudGlhbHMnKTtcbiAgICAgICAgdGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgdGhpcy5wcm9maWxlT2JqZWN0ID0gSW5pLmRlY29kZUluaURhdGEoVXRpbHMucmVhZEZpbGUodGhpcy5maWxlUGF0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgbGlzdFByb2ZpbGVzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wcm9maWxlT2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEBwYXJhbSBwcm9maWxlXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBnZXRQcm9maWxlQ3JlZGVudGlhbHMocHJvZmlsZSkge1xuICAgICAgICBsZXQgY3JlZGVudGlhbHMgPSB0aGlzLnByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGlmICghY3JlZGVudGlhbHMpIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHJldHVybiBVdGlscy5kZWVwQ29weShjcmVkZW50aWFscyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAcGFyYW0gcHJvZmlsZVxuICAgICAqL1xuICAgIGRlbGV0ZVByb2ZpbGUocHJvZmlsZSkge1xuICAgICAgICBsZXQgb3V0cHV0UHJvZmlsZU9iamVjdCA9IFV0aWxzLmRlZXBDb3B5KHRoaXMucHJvZmlsZU9iamVjdCk7XG4gICAgICAgIGRlbGV0ZSBvdXRwdXRQcm9maWxlT2JqZWN0W3Byb2ZpbGVdO1xuICAgICAgICBsZXQgZW5jb2RlZFByb2ZpbGUgPSBJbmkuZW5jb2RlSW5pRm9ybWF0KG91dHB1dFByb2ZpbGVPYmplY3QpO1xuICAgICAgICBVdGlscy53cml0ZUZpbGUodGhpcy5maWxlUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHBhcmFtIHByb2ZpbGVcbiAgICAgKiBAcGFyYW0gY3JlZGVudGlhbHNcbiAgICAgKi9cbiAgICBhZGRQcm9maWxlKHByb2ZpbGUsIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGxldCBvdXRwdXRQcm9maWxlT2JqZWN0ID0gVXRpbHMuZGVlcENvcHkodGhpcy5wcm9maWxlT2JqZWN0KTtcbiAgICAgICAgb3V0cHV0UHJvZmlsZU9iamVjdFtwcm9maWxlXSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICBsZXQgZW5jb2RlZFByb2ZpbGUgPSBJbmkuZW5jb2RlSW5pRm9ybWF0KG91dHB1dFByb2ZpbGVPYmplY3QpO1xuICAgICAgICBVdGlscy53cml0ZUZpbGUodGhpcy5maWxlUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBsaXN0UHJvZmlsZXMoZmlsZVBhdGgpIHtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxQYXRoID0gZmlsZVBhdGggfHwgZGVmYXVsdEZpbGVQYXRoO1xuICAgICAgICBsZXQgcHJvZmlsZU9iamVjdCA9IEluaS5kZWNvZGVJbmlEYXRhKFV0aWxzLnJlYWRGaWxlKGNyZWRlbnRpYWxQYXRoKSk7XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb2ZpbGVPYmplY3QpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRQcm9maWxlQ3JlZGVudGlhbHMocHJvZmlsZSwgZmlsZVBhdGgpIHtcbiAgICAgICAgaWYgKCFwcm9maWxlIHx8IHByb2ZpbGUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIElucHV0OiBwcm9maWxlIG5hbWUgY2Fubm90IGJlIG9taXR0ZWQgbm9yIG9ubHkgY29udGFpbnMgd2hpdGUgc3BhY2VzLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIGxldCBjcmVkZW50aWFscyA9IHByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGlmICghY3JlZGVudGlhbHMpIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHJldHVybiBVdGlscy5kZWVwQ29weShjcmVkZW50aWFscyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlbGV0ZVByb2ZpbGUocHJvZmlsZSwgZmlsZVBhdGgpIHtcbiAgICAgICAgaWYgKCFwcm9maWxlIHx8IHByb2ZpbGUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIElucHV0OiBwcm9maWxlIG5hbWUgY2Fubm90IGJlIG9taXR0ZWQgbm9yIG9ubHkgY29udGFpbnMgd2hpdGUgc3BhY2VzLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIC8vIHByb2ZpbGVPYmplY3Qgd2lsbCBuZXZlciBiZSAnbnVsbCcuIHdvcnN0IGNhc2UgaXMge31cbiAgICAgICAgbGV0IG91dHB1dFByb2ZpbGVPYmplY3QgPSBVdGlscy5kZWVwQ29weShwcm9maWxlT2JqZWN0KTtcbiAgICAgICAgZGVsZXRlIG91dHB1dFByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGxldCBlbmNvZGVkUHJvZmlsZSA9IEluaS5lbmNvZGVJbmlGb3JtYXQob3V0cHV0UHJvZmlsZU9iamVjdCk7XG4gICAgICAgIFV0aWxzLndyaXRlRmlsZShjcmVkZW50aWFsUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRQcm9maWxlKHByb2ZpbGUsIGNyZWRlbnRpYWxzLCBmaWxlUGF0aCkge1xuICAgICAgICBpZiAoIXByb2ZpbGUgfHwgcHJvZmlsZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgSW5wdXQ6IHByb2ZpbGUgbmFtZSBjYW5ub3QgYmUgb21pdHRlZCBub3Igb25seSBjb250YWlucyB3aGl0ZSBzcGFjZXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzIHx8IE9iamVjdC5rZXlzKGNyZWRlbnRpYWxzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBJbnB1dDogY3JlZGVudGlhbHMgY2Fubm90IGJlIG9taXR0ZWQgbm9yIGVtcHR5LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNyZWRlbnRpYWxzKS5sZW5ndGggIT09IDIgfHxcbiAgICAgICAgICAgICF0aGlzLmlzVmFsaWRTY2hlbWEoY3JlZGVudGlhbHMpICYmXG4gICAgICAgICAgICAhdGhpcy5pc1ZhbGlkQWx0U2NoZW1hKGNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0OiBjcmVkZW50aWFscyBzY2hlbWEgaXMgaW52YWxpZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIGxldCBvdXRwdXRQcm9maWxlT2JqZWN0ID0gVXRpbHMuZGVlcENvcHkocHJvZmlsZU9iamVjdCk7XG4gICAgICAgIG91dHB1dFByb2ZpbGVPYmplY3RbcHJvZmlsZV0gPSBjcmVkZW50aWFscztcbiAgICAgICAgbGV0IGVuY29kZWRQcm9maWxlID0gSW5pLmVuY29kZUluaUZvcm1hdChvdXRwdXRQcm9maWxlT2JqZWN0KTtcbiAgICAgICAgVXRpbHMud3JpdGVGaWxlKGNyZWRlbnRpYWxQYXRoLCBlbmNvZGVkUHJvZmlsZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzVmFsaWRTY2hlbWEoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIChjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnYXdzX2FjY2Vzc19rZXlfaWQnKSAmJiBjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnYXdzX3NlY3JldF9hY2Nlc3Nfa2V5JykpXG4gICAgfVxuXG4gICAgc3RhdGljIGlzVmFsaWRBbHRTY2hlbWEoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIChjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgncm9sZV9hcm4nKSAmJiBjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnc291cmNlX3Byb2ZpbGUnKSlcbiAgICB9ICAgIFxufVxubW9kdWxlLmV4cG9ydHMgPSBhd3NQcm9maWxlSGFuZGxlcjtcblxuXG4iLCAiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgYWRkSWNvbiwgc2V0SWNvbiwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBTdWdnZXN0TW9kYWwgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgKiBhcyBvcyBmcm9tICdvcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0ICogYXMgcHJvZmlsZUhhbmRsZXIgZnJvbSAnYXdzLXByb2ZpbGUtaGFuZGxlcic7XG4vLyBpbXBvcnQge0luaSwgVXRpbHN9IGZyb20gJ2F3cy1wcm9maWxlLWhhbmRsZXInO1xuXG5pbnRlcmZhY2UgQXdzUHJvZmlsZU1hbmFnZXJTZXR0aW5ncyB7XG5cdG15U2V0dGluZzogc3RyaW5nO1xufVxuXG5jb25zdCBJbmkgPSByZXF1aXJlKCcuL25vZGVfbW9kdWxlcy9hd3MtcHJvZmlsZS1oYW5kbGVyL2xpYi9pbmknKTtcbmNvbnN0IFV0aWxzID0gcmVxdWlyZSgnLi9ub2RlX21vZHVsZXMvYXdzLXByb2ZpbGUtaGFuZGxlci9saWIvdXRpbHMnKTtcbmNvbnN0IGRlZmF1bHRGaWxlUGF0aCA9IHBhdGguam9pbihvcy5ob21lZGlyKCksICcuYXdzJywgJ2NyZWRlbnRpYWxzJyk7XG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBBd3NQcm9maWxlTWFuYWdlclNldHRpbmdzID0ge1xuXHRteVNldHRpbmc6ICdkZWZhdWx0J1xufVxuY29uc3QgREVGQVVMVF9QUk9GSUxFID0gJ2RlZmF1bHQnO1xuXG4vLyBhZGQgYSBwcm9maWxlIGluIHRoZSAuYXdzL2NyZWRlbnRpYWxzIGZpbGVcbmZ1bmN0aW9uIGFkZFByb2ZpbGUocHJvZmlsZTogc3RyaW5nLCBjcmVkZW50aWFsczogT2JqZWN0LCBmaWxlUGF0aCA/OiBzdHJpbmcpIHtcblx0aWYgKCFwcm9maWxlIHx8IHByb2ZpbGUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBJbnB1dDogcHJvZmlsZSBuYW1lIGNhbm5vdCBiZSBvbWl0dGVkIG5vciBvbmx5IGNvbnRhaW5zIHdoaXRlIHNwYWNlcy4nKTtcblx0fVxuXG5cdGlmICghY3JlZGVudGlhbHMgfHwgT2JqZWN0LmtleXMoY3JlZGVudGlhbHMpLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBJbnB1dDogY3JlZGVudGlhbHMgY2Fubm90IGJlIG9taXR0ZWQgbm9yIGVtcHR5LicpO1xuXHR9XG5cblx0aWYgKE9iamVjdC5rZXlzKGNyZWRlbnRpYWxzKS5sZW5ndGggPCAzIHx8XG5cdFx0IXByb2ZpbGVIYW5kbGVyLmlzVmFsaWRTY2hlbWEoY3JlZGVudGlhbHMpICYmXG5cdFx0IXByb2ZpbGVIYW5kbGVyLmlzVmFsaWRBbHRTY2hlbWEoY3JlZGVudGlhbHMpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0OiBjcmVkZW50aWFscyBzY2hlbWEgaXMgaW52YWxpZC4nKTtcblx0fVxuXG5cdGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcblx0bGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG5cdGxldCBvdXRwdXRQcm9maWxlT2JqZWN0ID0gVXRpbHMuZGVlcENvcHkocHJvZmlsZU9iamVjdCk7XG5cdG91dHB1dFByb2ZpbGVPYmplY3RbcHJvZmlsZV0gPSBjcmVkZW50aWFscztcblx0bGV0IGVuY29kZWRQcm9maWxlID0gSW5pLmVuY29kZUluaUZvcm1hdChvdXRwdXRQcm9maWxlT2JqZWN0KTtcblx0VXRpbHMud3JpdGVGaWxlKGNyZWRlbnRpYWxQYXRoLCBlbmNvZGVkUHJvZmlsZSk7XG59XG5cblxuXG4vLyBsaXN0IGFuZCBvcmRlciBpbiBhbiBhcnJheSBhbGwgdGhlIHByb2ZpbGVzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiB0aGUgLmF3cy9jcmVkZW50aWFscyBmaWxlXG5leHBvcnQgZnVuY3Rpb24gZ2V0U29ydGVkUHJvZmlsZXNDcmVkZW50aWFscyhpbmNsdWRlRGVmYXVsdFByb2ZpbGUgPSB0cnVlKSB7XG5cdGNvbnN0IGNyZWRlbnRpYWxzRmlsZSA9IHBhdGguam9pbihvcy5ob21lZGlyKCksICcuYXdzJywgJ2NyZWRlbnRpYWxzJyk7XG5cdGxldCByZXN1bHQgPSBbXTtcblxuXHRpZiAoZnMuZXhpc3RzU3luYyhjcmVkZW50aWFsc0ZpbGUpKSB7XG5cblx0XHQvLyBsaXN0UHJvZmlsZSB3aWxsIGNoZWNrIGlmIGZpbGUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHZhbGlkLFxuXHRcdC8vIG5vIG5lZWQgdG8gcHJvY2VlZCwganVzdCBjYWxsYmFjayB0aGUgZXJyb3IuXG5cdFx0dHJ5IHtcblx0XHRcdC8vIGlmIHRoZSBjcmVkZW50aWFsIGZpbGUgaXMgZW1wdHksIENMSSB3aWxsIG5hbWUgdGhlIGZpcnN0IHByb2ZpbGUgYXMgJ2RlZmF1bHQnXG5cdFx0XHRjb25zdCBwcm9maWxlcyA9IHByb2ZpbGVIYW5kbGVyLmxpc3RQcm9maWxlcygpO1xuXG5cdFx0XHRpZiAoaW5jbHVkZURlZmF1bHRQcm9maWxlID09PSBmYWxzZSkge1xuXHRcdFx0XHRjb25zdCBpbmRleCA9IHByb2ZpbGVzLmluZGV4T2YoREVGQVVMVF9QUk9GSUxFKTtcblxuXHRcdFx0XHRpZiAoaW5kZXggPiAtMSkge1xuXHRcdFx0XHRcdHByb2ZpbGVzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmVzdWx0ID0gcHJvZmlsZXMuc29ydCgpO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUubG9nKGBGaWxlICcke2NyZWRlbnRpYWxzRmlsZX0nIGlzIG5vdCB2YWxpZC5gKTtcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHR9XG5cblx0fVxuXHRlbHNlIHtcblx0XHRjb25zb2xlLmxvZyhgRmlsZSAnJHtjcmVkZW50aWFsc0ZpbGV9JyBkb2VzIG5vdCBleGlzdC5gKTtcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cblxuLy8gZXhwb3J0IGNsYXNzIEV4YW1wbGVNb2RhbF8xIGV4dGVuZHMgTW9kYWwge1xuLy8gXHRyZXN1bHQ6IHN0cmluZztcbi8vIFx0b25TdWJtaXQ6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZDtcblxuLy8gXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgb25TdWJtaXQ6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZCkge1xuLy8gXHRcdHN1cGVyKGFwcCk7XG4vLyBcdFx0dGhpcy5vblN1Ym1pdCA9IG9uU3VibWl0O1xuLy8gXHR9XG5cbi8vIFx0b25PcGVuKCkge1xuLy8gXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXG4vLyBcdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwiaDFcIiwgeyB0ZXh0OiBcIldoYXQncyB5b3VyIG5hbWU/XCIgfSk7XG5cbi8vIFx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXG4vLyBcdFx0XHQuc2V0TmFtZShcIk5hbWVcIilcbi8vIFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuLy8gXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuLy8gXHRcdFx0XHRcdHRoaXMucmVzdWx0ID0gdmFsdWVcbi8vIFx0XHRcdFx0fSkpO1xuXG4vLyBcdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxuLy8gXHRcdFx0LmFkZEJ1dHRvbigoYnRuKSA9PlxuLy8gXHRcdFx0XHRidG5cbi8vIFx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dChcIlN1Ym1pdFwiKVxuLy8gXHRcdFx0XHRcdC5zZXRDdGEoKVxuLy8gXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcbi8vIFx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcbi8vIFx0XHRcdFx0XHRcdHRoaXMub25TdWJtaXQodGhpcy5yZXN1bHQpO1xuLy8gXHRcdFx0XHRcdH0pKTtcbi8vIFx0fVxuXG4vLyBcdG9uQ2xvc2UoKSB7XG4vLyBcdFx0bGV0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuLy8gXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuLy8gXHR9XG4vLyB9XG5cbmNvbnN0IHNvcnRlZFByb2ZpbGVzQ3JlZHMgPSBnZXRTb3J0ZWRQcm9maWxlc0NyZWRlbnRpYWxzKCk7IFxuXG5leHBvcnQgY2xhc3MgU3VnZ2VzdEF3c1Byb2ZpbGVNb2RhbCBleHRlbmRzIFN1Z2dlc3RNb2RhbDxTdHJpbmc+IHtcblxuXHQvLyBSZXR1cm5zIGFsbCBhdmFpbGFibGUgc3VnZ2VzdGlvbnMuXG5cdGdldFN1Z2dlc3Rpb25zKHF1ZXJ5OiBzdHJpbmcpOiBTdHJpbmdbXSB7XG5cdFx0bGV0IGxvY2Fsc29ydGVkUHJvZmlsZXNDcmVkcyA9IHNvcnRlZFByb2ZpbGVzQ3JlZHM7XG5cdFx0bGV0IGNob2ljZSA9IGxvY2Fsc29ydGVkUHJvZmlsZXNDcmVkcy5maWx0ZXIoKHByb2ZpbGU6IHN0cmluZykgPT5cblx0XHRcdHByb2ZpbGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKVxuXHRcdCk7XG5cdFx0cmV0dXJuIGNob2ljZVxuXHR9XG5cblx0Ly8gUmVuZGVycyBlYWNoIHN1Z2dlc3Rpb24gaXRlbS5cblx0cmVuZGVyU3VnZ2VzdGlvbihwcm9maWxlOiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkge1xuXHRcdGVsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dDogcHJvZmlsZSB9KTtcblx0fVxuXG5cdC8vIFBlcmZvcm0gYWN0aW9uIG9uIHRoZSBzZWxlY3RlZCBzdWdnZXN0aW9uLlxuXHRvbkNob29zZVN1Z2dlc3Rpb24ocHJvZmlsZTogc3RyaW5nLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSB7XG5cdFx0bGV0IHByb2ZpbGVDcmVkcyA9IHByb2ZpbGVIYW5kbGVyLmdldFByb2ZpbGVDcmVkZW50aWFscyhwcm9maWxlKTtcblx0XHRhZGRQcm9maWxlKFwiZGVmYXVsdFwiLCBwcm9maWxlQ3JlZHMpO1xuXHRcdG5ldyBOb3RpY2UoYE5ldyBkZWZhdWx0IHByb2ZpbGUgaXMgJyR7cHJvZmlsZX0nYCk7XG5cdFx0bGV0IGl0ZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN0YXR1cy1iYXItaXRlbSBwbHVnaW4tb2JzaWRpYW4tYXdzLXByb2ZpbGUtbWFuYWdlclwiKTtcblx0XHRpdGVtc1swXS5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGl0ZW1zWzBdLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiXHVEODNDXHVERkFEXCIgfSk7XG5cdFx0aXRlbXNbMF0uY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogcHJvZmlsZSB9KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBd3NQcm9maWxlTWFuYWdlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBBd3NQcm9maWxlTWFuYWdlclNldHRpbmdzO1xuXHRzdGF0dXNCYXJJdGVtRWw6IEhUTUxFbGVtZW50O1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHQvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuXHRcdGNvbnN0IGl0ZW0gPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcblx0XHRpdGVtLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiXHVEODNDXHVERkFEXCIgfSk7XG5cdFx0aXRlbS5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIkNob29zZSBhIHByb2ZpbGVcIiB9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJzd2l0Y2ggcHJvZmlsZVwiLFxuXHRcdFx0bmFtZTogXCJTd2l0Y2ggdG8gQVdTIHByb2ZpbGVcIixcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiSGV5LCB5b3UhIFwiK29zLmhvbWVkaXIoKSk7XG5cdFx0XHRcdG5ldyBTdWdnZXN0QXdzUHJvZmlsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHR9LFxuXHRcdFx0XG5cdFx0fSk7XG5cblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxuXHRcdGFkZEljb24oXCJhd3NcIiwgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCIgdmlld0JveD1cIjAgMCA0NTUgNDU1XCIgZmlsbD1cIiNGRkZGRkZcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtcIiBkPVwiTTIzNS45MTYsMTkwLjgxN2MtMTAuMjc0LDAuOTY2LTMyLjgzNCw0LjA5LTQzLjk0MSwxMy4zMDljLTE0LjY1MywxMi4xNTktMjAuNTc1LDUyLjk5NiwxMS4yMTUsNTIuOTk2YzQuOTU5LDAsOS4yODUtMC41LDEzLjA3My0xLjM0NmMxNC42NDEtMy4yNTEsMjQuOTY4LTE2LjM5OSwyNC45NjgtMzEuMzk5di0yOC43MjJDMjQxLjIzMSwxOTIuNzkxLDIzOC43NjgsMTkwLjU0NSwyMzUuOTE2LDE5MC44MTd6XCIvPjxwYXRoIGQ9XCJNMCwwdjQ1NWg0NTVWMEgweiBNMjE1LjY1NSwxMTEuODU0Yy0xOS4wNjgsMC0zMS4yNiwyMC42NzUtMzUuNDU4LDI5LjE2NmMtMS4wNDEsMi4xMTYtMy4zNTEsMy4yNzctNS42NzMsMi44ODVsLTM4LjI1NS02LjQ2NGMtMy4xNjgtMC41My01LjE3My0zLjY5OC00LjI1MS02Ljc3OGM0LjgxNS0xNi4wODUsMjMuNTkxLTU5Ljk0OSw4NS4xOTctNTkuOTQ5Yzc1LjQzNywwLDgyLjYwNyw0OC42MjUsODIuNjA3LDYwLjQ2OHY5OC41MDljMCwwLTAuMzE0LDguNDE2LDcuMTY5LDE5LjAxNWMyLjM5OSwzLjM4Miw0LjM0LDYuMDczLDUuODc4LDguMTU1YzIuNjQ5LDMuNTksMi4yMDIsOC41OC0xLjAzLDExLjY1OWwtMjcuODk1LDI2LjU3NmMtMy4yODgsMy4xMTMtOC40MDgsMy4yODUtMTEuODQ1LDAuMzM2Yy0zLjU1Ny0zLjA0OS03Ljk1LTcuMTE2LTExLjIzNy0xMS4xOTZjLTMuMDY4LTMuNzk2LTUuNDQ1LTcuMjQ0LTcuMTE0LTkuODQ2Yy0xLjM2OS0yLjEyNy00LjQxNS0yLjIyNC01LjkyMy0wLjIwOGMtNi43MzYsOS4wOTEtMjQuODkzLDI4LjQ1LTU3LjA5NywyOC40NWMtNDIuMDg0LDAtNzAuMTM0LTMzLjk4MS03MC4xMzQtNjMuMjc4YzAtMjkuMzA1LDE4LjcwMS02Ni43MTYsNTkuMjI0LTc1LjEzMmMyOC40MzktNS45LDQ2Ljg5OC01LjY3Myw1NS4zODEtNS4wMDFjMi45MjksMC4yMjgsNS40MDEtMi4wOTQsNS40MDEtNS4wMjN2LTIyLjdDMjQwLjYwMSwxMzEuNDk5LDIzOS42NjgsMTExLjg2NSwyMTUuNjU1LDExMS44NTR6IE0zMTkuMTYyLDM1OC43NGMtMjQuNjMyLDEzLjcxMS00OC42MzcsMjUuNTQ2LTEwNS42NjcsMjUuNTQ2Yy02OS4yOTgsMC0xMjQuNzAxLTQ0LjA5MS0xMzUuNi01Ny40OTdjLTEwLjkxMi0xMy40MDktNy4zMzMtMjAuMjYyLTcuMzMzLTIwLjI2MnM0LjIwNy04LjI2NiwxNi4wNTIsMGMxMS44NDUsOC4yNTIsNjcuMzM1LDQ3LjIyNiwxMjIuNTEsNDcuMjI2YzU1LjE3NiwwLDkzLjUwOC0xNC42NTUsMTA1Ljk4MS0xOS45NTljMTIuNDYyLTUuMjkyLDI2LjQ5OC0xMS45MiwyOS45MjctNS40OUMzNDguNDU5LDMzNC43MzksMzQzLjc4MywzNDUuMDIxLDMxOS4xNjIsMzU4Ljc0eiBNMzU0LjE0MiwzNTkuMTMyYy03LjI2Ny0zLjkzNywwLjIzOS0xMS45MzEsMy4yNzQtMjEuNTA4YzMuMDM4LTkuNTg4LDQuNjc2LTE4LjAwNCwwLTIyLjEyN2MtNC42NzMtNC4xMzItMTEuNDU0LTIuMTkxLTI2Ljg4Ny0wLjMyNWMtMTUuNDI0LDEuODc3LTE0LjQ5Mi01LjE0My0xNC40OTItNS4xNDNzMC0yLjc5NiwzLjUwNC01LjE0YzMuNTA0LTIuMzMzLDUwLjg5MS0yMS45LDYyLjE5Mi00LjQzN0MzOTUuMzI2LDMyMS40NTIsMzYyLjYzNCwzNjMuNzMsMzU0LjE0MiwzNTkuMTMyelwiLz4nKTtcblxuXHRcdGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignYXdzJywgJ0FXUyBQcm9maWxlIE1hbmFnZXInLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHQvLyBDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGljb24uXG5cdFx0XHRuZXcgTm90aWNlKCdIZWogQnJvICcrb3MuaG9tZWRpcigpKycsIG1ha2UgeW91ciBhd3MgcHJvZmlsZSBjaG9pY2UgIScpO1xuXHRcdFx0bmV3IFN1Z2dlc3RBd3NQcm9maWxlTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcblx0XHR9KTtcblx0XHQvLyBQZXJmb3JtIGFkZGl0aW9uYWwgdGhpbmdzIHdpdGggdGhlIHJpYmJvblxuXHRcdHJpYmJvbkljb25FbC5hZGRDbGFzcygnbXktcGx1Z2luLXJpYmJvbi1jbGFzcycpO1xuXG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgQXdzUHJvZmlsZU1hbmFnZXJTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHQvLyBJZiB0aGUgcGx1Z2luIGhvb2tzIHVwIGFueSBnbG9iYWwgRE9NIGV2ZW50cyAob24gcGFydHMgb2YgdGhlIGFwcCB0aGF0IGRvZXNuJ3QgYmVsb25nIHRvIHRoaXMgcGx1Z2luKVxuXHRcdC8vIFVzaW5nIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgd2hlbiB0aGlzIHBsdWdpbiBpcyBkaXNhYmxlZC5cblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCdjbGljaycsIGV2dCk7XG5cdFx0fSk7XG5cblx0XHQvLyBXaGVuIHJlZ2lzdGVyaW5nIGludGVydmFscywgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgY2xlYXIgdGhlIGludGVydmFsIHdoZW4gdGhlIHBsdWdpbiBpcyBkaXNhYmxlZC5cblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwod2luZG93LnNldEludGVydmFsKCgpID0+IGNvbnNvbGUubG9nKCdzZXRJbnRlcnZhbCcpLCA1ICogNjAgKiAxMDAwKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZygndW5sb2FkaW5nIHBsdWdpbicpO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgQXdzUHJvZmlsZU1hbmFnZXJTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogQXdzUHJvZmlsZU1hbmFnZXJQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQXdzUHJvZmlsZU1hbmFnZXJQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnU2V0dGluZ3MgZm9yIG15IGF3ZXNvbWUgcGx1Z2luLid9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1NldHRpbmcgIzEnKVxuXHRcdFx0LnNldERlc2MoJ0l0XFwncyBhIHNlY3JldCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciB5b3VyIHNlY3JldCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnU2VjcmV0OiAnICsgdmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBLHlEQUFBQSxTQUFBO0FBQUE7QUFFQSxRQUFNQyxPQUFOLE1BQVU7QUFBQSxNQUNOLE9BQU8sY0FBYyxTQUFTO0FBQzFCLFlBQUk7QUFDSixZQUFJLE1BQU0sQ0FBQztBQUNYLFlBQUksb0JBQW9CO0FBQ3hCLFlBQUksUUFBUSxRQUFRLE1BQU0sT0FBTztBQUVqQyxZQUFJQSxLQUFJLFlBQVksS0FBSztBQUFHLGlCQUFPLENBQUM7QUFHcEMsY0FBTSxRQUFRLENBQUMsU0FBUztBQUdwQixpQkFBTyxLQUFLLE1BQU0sWUFBWSxFQUFFLENBQUMsRUFBRSxLQUFLO0FBQ3hDLGNBQUksQ0FBQztBQUFNO0FBRVgsY0FBSSxVQUFVLEtBQUssTUFBTSx3QkFBd0I7QUFDakQsY0FBSSxXQUFXLG1CQUFtQjtBQUM5QixrQkFBTSxJQUFJLE1BQU0sMERBQTBEO0FBQUEsVUFDOUUsV0FDUyxTQUFTO0FBQ2QsNkJBQWlCLFFBQVEsQ0FBQztBQUMxQixnQ0FBb0I7QUFBQSxVQUN4QixPQUNJO0FBQ0EsZ0JBQUks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
