/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/aws-profile-handler/lib/ini.js
var require_ini = __commonJS({
  "node_modules/aws-profile-handler/lib/ini.js"(exports, module2) {
    "use strict";
    var Ini2 = class {
      static decodeIniData(rawData) {
        let currentSection;
        let map = {};
        let uniqueSectionFlag = false;
        let lines = rawData.split(/\r?\n/);
        if (Ini2._emptyCheck(lines))
          return {};
        lines.forEach((line) => {
          line = line.split(/(^|\s)[;#]/)[0].trim();
          if (!line)
            return;
          let section = line.match(/^\s*\[([^\[\]]+)\]\s*$/);
          if (section && uniqueSectionFlag) {
            throw new Error("Invalid AWS credential file. Cannot have nested sessions");
          } else if (section) {
            currentSection = section[1];
            uniqueSectionFlag = true;
          } else {
            let item = line.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);
            if (item) {
              map[currentSection] = map[currentSection] || {};
              map[currentSection][item[1]] = item[2];
              uniqueSectionFlag = false;
            } else {
              throw new Error("Invalid AWS credential file. Incomplete key/value pair");
            }
          }
        });
        return map;
      }
      static encodeIniFormat(iniObject) {
        function _flattenObject(object) {
          let listObject = Object.keys(object).reduce((result, key) => {
            result.push(key + "=" + object[key]);
            return result;
          }, []);
          return listObject;
        }
        let dividedIntoListOfObjects = Object.keys(iniObject).map((session) => {
          let newObject = {};
          newObject[session] = iniObject[session];
          return newObject;
        });
        let encodedIniContentList = dividedIntoListOfObjects.reduce(
          (iniContentList, sessionObject) => {
            let sessionName = Object.keys(sessionObject)[0];
            iniContentList.push("[" + sessionName + "]");
            let listChild = _flattenObject(sessionObject[sessionName]);
            return iniContentList.concat(listChild, "");
          },
          []
        );
        return encodedIniContentList.join("\n");
      }
      static _emptyCheck(array) {
        if (array.length === 0)
          return true;
        for (let item of array) {
          if (item.trim().length !== 0) {
            return false;
          }
        }
        return true;
      }
    };
    module2.exports = Ini2;
  }
});

// node_modules/aws-profile-handler/lib/utils.js
var require_utils = __commonJS({
  "node_modules/aws-profile-handler/lib/utils.js"(exports, module2) {
    "use strict";
    var fs2 = require("fs");
    var Utils2 = class {
      static writeFile(filePath, encodedOutput) {
        fs2.writeFileSync(filePath, encodedOutput, "utf-8");
      }
      static deepCopy(object) {
        return JSON.parse(JSON.stringify(object));
      }
      static readFile(filePath) {
        return fs2.readFileSync(filePath, "utf-8");
      }
    };
    module2.exports = Utils2;
  }
});

// node_modules/aws-profile-handler/index.js
var require_aws_profile_handler = __commonJS({
  "node_modules/aws-profile-handler/index.js"(exports, module2) {
    "use strict";
    var path2 = require("path");
    var os2 = require("os");
    var Ini2 = require_ini();
    var Utils2 = require_utils();
    var defaultFilePath2 = path2.join(os2.homedir(), ".aws", "credentials");
    var awsProfileHandler = class {
      /**
       * @deprecated
       * @param filePath
       */
      constructor(filePath) {
        const defaultFilePath3 = path2.join(os2.homedir(), ".aws", "credentials");
        this.filePath = filePath || defaultFilePath3;
        this.profileObject = Ini2.decodeIniData(Utils2.readFile(this.filePath));
      }
      /**
       * @deprecated
       * @return {Array}
       */
      listProfiles() {
        return Object.keys(this.profileObject);
      }
      /**
       * @deprecated
       * @param profile
       * @return {*}
       */
      getProfileCredentials(profile) {
        let credentials = this.profileObject[profile];
        if (!credentials)
          return null;
        else
          return Utils2.deepCopy(credentials);
      }
      /**
       * @deprecated
       * @param profile
       */
      deleteProfile(profile) {
        let outputProfileObject = Utils2.deepCopy(this.profileObject);
        delete outputProfileObject[profile];
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(this.filePath, encodedProfile);
      }
      /**
       * @deprecated
       * @param profile
       * @param credentials
       */
      addProfile(profile, credentials) {
        let outputProfileObject = Utils2.deepCopy(this.profileObject);
        outputProfileObject[profile] = credentials;
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(this.filePath, encodedProfile);
      }
      static listProfiles(filePath) {
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        return Object.keys(profileObject);
      }
      static getProfileCredentials(profile, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let credentials = profileObject[profile];
        if (!credentials)
          return null;
        else
          return Utils2.deepCopy(credentials);
      }
      static deleteProfile(profile, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let outputProfileObject = Utils2.deepCopy(profileObject);
        delete outputProfileObject[profile];
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(credentialPath, encodedProfile);
      }
      static addProfile(profile, credentials, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        if (!credentials || Object.keys(credentials).length === 0) {
          throw new Error("Invalid Input: credentials cannot be omitted nor empty.");
        }
        if (Object.keys(credentials).length !== 2 || !this.isValidSchema(credentials) && !this.isValidAltSchema(credentials)) {
          throw new Error("Invalid input: credentials schema is invalid.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let outputProfileObject = Utils2.deepCopy(profileObject);
        outputProfileObject[profile] = credentials;
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(credentialPath, encodedProfile);
      }
      static isValidSchema(credentials) {
        return credentials.hasOwnProperty("aws_access_key_id") && credentials.hasOwnProperty("aws_secret_access_key");
      }
      static isValidAltSchema(credentials) {
        return credentials.hasOwnProperty("role_arn") && credentials.hasOwnProperty("source_profile");
      }
    };
    module2.exports = awsProfileHandler;
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  SuggestAwsProfile: () => SuggestAwsProfile,
  default: () => MyPlugin,
  getSortedProfilesCredentials: () => getSortedProfilesCredentials
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var os = __toESM(require("os"));
var path = __toESM(require("path"));
var fs = __toESM(require("fs"));
var profileHandler = __toESM(require_aws_profile_handler());
var Ini = require_ini();
var Utils = require_utils();
var defaultFilePath = path.join(os.homedir(), ".aws", "credentials");
function addProfile(profile, credentials, filePath) {
  if (!profile || profile.trim().length === 0) {
    throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
  }
  if (!credentials || Object.keys(credentials).length === 0) {
    throw new Error("Invalid Input: credentials cannot be omitted nor empty.");
  }
  if (Object.keys(credentials).length < 3 || !profileHandler.isValidSchema(credentials) && !profileHandler.isValidAltSchema(credentials)) {
    throw new Error("Invalid input: credentials schema is invalid.");
  }
  let credentialPath = filePath || defaultFilePath;
  let profileObject = Ini.decodeIniData(Utils.readFile(credentialPath));
  let outputProfileObject = Utils.deepCopy(profileObject);
  outputProfileObject[profile] = credentials;
  let encodedProfile = Ini.encodeIniFormat(outputProfileObject);
  Utils.writeFile(credentialPath, encodedProfile);
}
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var DEFAULT_PROFILE = "default";
function getSortedProfilesCredentials(includeDefaultProfile = true) {
  const credentialsFile = path.join(os.homedir(), ".aws", "credentials");
  let result = [];
  if (fs.existsSync(credentialsFile)) {
    try {
      const profiles = profileHandler.listProfiles();
      if (includeDefaultProfile === false) {
        const index = profiles.indexOf(DEFAULT_PROFILE);
        if (index > -1) {
          profiles.splice(index, 1);
        }
      }
      result = profiles.sort();
    } catch (error) {
      console.log(`File '${credentialsFile}' is not valid.`);
      console.log(error);
    }
  } else {
    console.log(`File '${credentialsFile}' does not exist.`);
  }
  return result;
}
var sortedProfilesCreds = getSortedProfilesCredentials();
var SuggestAwsProfile = class extends import_obsidian.SuggestModal {
  // Returns all available suggestions.
  getSuggestions(query) {
    let localsortedProfilesCreds = sortedProfilesCreds;
    let choice = localsortedProfilesCreds.filter(
      (profile) => profile.toLowerCase().includes(query.toLowerCase())
    );
    return choice;
  }
  // Renders each suggestion item.
  renderSuggestion(profile, el) {
    el.createEl("div", { text: profile });
  }
  // Perform action on the selected suggestion.
  onChooseSuggestion(profile, evt) {
    let profileCreds = profileHandler.getProfileCredentials(profile);
    addProfile("default", profileCreds);
    new import_obsidian.Notice(`Selected ${profile} as Default`);
  }
};
var MyPlugin = class extends import_obsidian.Plugin {
  async onload() {
    this.addCommand({
      id: "switch profile",
      name: "Switch to AWS profile",
      callback: () => {
        console.log("Hey, you!" + os.homedir());
        new SuggestAwsProfile(this.app).open();
      }
    });
    console.log("loading plugin");
    await this.loadSettings();
    const ribbonIconEl = this.addRibbonIcon("dice", "AWS Profile Manager", (evt) => {
      new import_obsidian.Notice("Hej Bro, make your aws profile choice !");
      new SuggestAwsProfile(this.app).open();
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
    console.log("unloading plugin");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for my awesome plugin." });
    new import_obsidian.Setting(containerEl).setName("Setting #1").setDesc("It's a secret").addText((text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.mySetting).onChange(async (value) => {
      console.log("Secret: " + value);
      this.plugin.settings.mySetting = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2F3cy1wcm9maWxlLWhhbmRsZXIvbGliL2luaS5qcyIsICJub2RlX21vZHVsZXMvYXdzLXByb2ZpbGUtaGFuZGxlci9saWIvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL2F3cy1wcm9maWxlLWhhbmRsZXIvaW5kZXguanMiLCAibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBJbmkge1xuICAgIHN0YXRpYyBkZWNvZGVJbmlEYXRhKHJhd0RhdGEpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRTZWN0aW9uO1xuICAgICAgICBsZXQgbWFwID0ge307XG4gICAgICAgIGxldCB1bmlxdWVTZWN0aW9uRmxhZyA9IGZhbHNlO1xuICAgICAgICBsZXQgbGluZXMgPSByYXdEYXRhLnNwbGl0KC9cXHI/XFxuLyk7XG5cbiAgICAgICAgaWYgKEluaS5fZW1wdHlDaGVjayhsaW5lcykpIHJldHVybiB7fTtcblxuXG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMgcmVnZXggd2lsbCByZW1vdmUgY29tbWVudHMgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGVhY2ggYXdzIHByb2ZpbGVcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNwbGl0KC8oXnxcXHMpWzsjXS8pWzBdLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghbGluZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBsZXQgc2VjdGlvbiA9IGxpbmUubWF0Y2goL15cXHMqXFxbKFteXFxbXFxdXSspXFxdXFxzKiQvKTtcbiAgICAgICAgICAgIGlmIChzZWN0aW9uICYmIHVuaXF1ZVNlY3Rpb25GbGFnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFXUyBjcmVkZW50aWFsIGZpbGUuIENhbm5vdCBoYXZlIG5lc3RlZCBzZXNzaW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZWN0aW9uID0gc2VjdGlvblsxXTtcbiAgICAgICAgICAgICAgICB1bmlxdWVTZWN0aW9uRmxhZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gbGluZS5tYXRjaCgvXlxccyooLis/KVxccyo9XFxzKiguKz8pXFxzKiQvKTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl0gPSBtYXBbY3VycmVudFNlY3Rpb25dIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICBtYXBbY3VycmVudFNlY3Rpb25dW2l0ZW1bMV1dID0gaXRlbVsyXTtcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlU2VjdGlvbkZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQVdTIGNyZWRlbnRpYWwgZmlsZS4gSW5jb21wbGV0ZSBrZXkvdmFsdWUgcGFpcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuXG4gICAgc3RhdGljIGVuY29kZUluaUZvcm1hdChpbmlPYmplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gX2ZsYXR0ZW5PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICBsZXQgbGlzdE9iamVjdCA9IE9iamVjdC5rZXlzKG9iamVjdCkucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSArIFwiPVwiICsgb2JqZWN0W2tleV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdE9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkaXZpZGVkSW50b0xpc3RPZk9iamVjdHMgPSBPYmplY3Qua2V5cyhpbmlPYmplY3QpLm1hcCgoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld09iamVjdCA9IHt9O1xuICAgICAgICAgICAgbmV3T2JqZWN0W3Nlc3Npb25dID0gaW5pT2JqZWN0W3Nlc3Npb25dO1xuICAgICAgICAgICAgcmV0dXJuIG5ld09iamVjdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGVuY29kZWRJbmlDb250ZW50TGlzdCA9IGRpdmlkZWRJbnRvTGlzdE9mT2JqZWN0cy5yZWR1Y2UoXG4gICAgICAgICAgICAoaW5pQ29udGVudExpc3QsIHNlc3Npb25PYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvbk5hbWUgPSBPYmplY3Qua2V5cyhzZXNzaW9uT2JqZWN0KVswXTtcbiAgICAgICAgICAgICAgICBpbmlDb250ZW50TGlzdC5wdXNoKFwiW1wiICsgc2Vzc2lvbk5hbWUgKyBcIl1cIik7XG5cbiAgICAgICAgICAgICAgICBsZXQgbGlzdENoaWxkID0gX2ZsYXR0ZW5PYmplY3Qoc2Vzc2lvbk9iamVjdFtzZXNzaW9uTmFtZV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmlDb250ZW50TGlzdC5jb25jYXQobGlzdENoaWxkLCAnJyk7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkSW5pQ29udGVudExpc3Quam9pbignXFxuJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIF9lbXB0eUNoZWNrKGFycmF5KSB7XG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGFycmF5KSB7XG4gICAgICAgICAgICBpZiAoaXRlbS50cmltKCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbmk7IiwgIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5jbGFzcyBVdGlscyB7XG4gICAgc3RhdGljIHdyaXRlRmlsZShmaWxlUGF0aCwgZW5jb2RlZE91dHB1dCkge1xuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBlbmNvZGVkT3V0cHV0LCAndXRmLTgnKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVlcENvcHkob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWFkRmlsZShmaWxlUGF0aCkge1xuICAgICAgICByZXR1cm4gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmLTgnKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVXRpbHM7IiwgIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcbmNvbnN0IEluaSA9IHJlcXVpcmUoJy4vbGliL2luaScpO1xuY29uc3QgVXRpbHMgPSByZXF1aXJlKCcuL2xpYi91dGlscycpO1xuY29uc3QgZGVmYXVsdEZpbGVQYXRoID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJy5hd3MnLCAnY3JlZGVudGlhbHMnKTtcblxuY2xhc3MgYXdzUHJvZmlsZUhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHBhcmFtIGZpbGVQYXRoXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZmlsZVBhdGgpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEZpbGVQYXRoID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJy5hd3MnLCAnY3JlZGVudGlhbHMnKTtcbiAgICAgICAgdGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgdGhpcy5wcm9maWxlT2JqZWN0ID0gSW5pLmRlY29kZUluaURhdGEoVXRpbHMucmVhZEZpbGUodGhpcy5maWxlUGF0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgbGlzdFByb2ZpbGVzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wcm9maWxlT2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEBwYXJhbSBwcm9maWxlXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBnZXRQcm9maWxlQ3JlZGVudGlhbHMocHJvZmlsZSkge1xuICAgICAgICBsZXQgY3JlZGVudGlhbHMgPSB0aGlzLnByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGlmICghY3JlZGVudGlhbHMpIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHJldHVybiBVdGlscy5kZWVwQ29weShjcmVkZW50aWFscyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAcGFyYW0gcHJvZmlsZVxuICAgICAqL1xuICAgIGRlbGV0ZVByb2ZpbGUocHJvZmlsZSkge1xuICAgICAgICBsZXQgb3V0cHV0UHJvZmlsZU9iamVjdCA9IFV0aWxzLmRlZXBDb3B5KHRoaXMucHJvZmlsZU9iamVjdCk7XG4gICAgICAgIGRlbGV0ZSBvdXRwdXRQcm9maWxlT2JqZWN0W3Byb2ZpbGVdO1xuICAgICAgICBsZXQgZW5jb2RlZFByb2ZpbGUgPSBJbmkuZW5jb2RlSW5pRm9ybWF0KG91dHB1dFByb2ZpbGVPYmplY3QpO1xuICAgICAgICBVdGlscy53cml0ZUZpbGUodGhpcy5maWxlUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHBhcmFtIHByb2ZpbGVcbiAgICAgKiBAcGFyYW0gY3JlZGVudGlhbHNcbiAgICAgKi9cbiAgICBhZGRQcm9maWxlKHByb2ZpbGUsIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGxldCBvdXRwdXRQcm9maWxlT2JqZWN0ID0gVXRpbHMuZGVlcENvcHkodGhpcy5wcm9maWxlT2JqZWN0KTtcbiAgICAgICAgb3V0cHV0UHJvZmlsZU9iamVjdFtwcm9maWxlXSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICBsZXQgZW5jb2RlZFByb2ZpbGUgPSBJbmkuZW5jb2RlSW5pRm9ybWF0KG91dHB1dFByb2ZpbGVPYmplY3QpO1xuICAgICAgICBVdGlscy53cml0ZUZpbGUodGhpcy5maWxlUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBsaXN0UHJvZmlsZXMoZmlsZVBhdGgpIHtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxQYXRoID0gZmlsZVBhdGggfHwgZGVmYXVsdEZpbGVQYXRoO1xuICAgICAgICBsZXQgcHJvZmlsZU9iamVjdCA9IEluaS5kZWNvZGVJbmlEYXRhKFV0aWxzLnJlYWRGaWxlKGNyZWRlbnRpYWxQYXRoKSk7XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb2ZpbGVPYmplY3QpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRQcm9maWxlQ3JlZGVudGlhbHMocHJvZmlsZSwgZmlsZVBhdGgpIHtcbiAgICAgICAgaWYgKCFwcm9maWxlIHx8IHByb2ZpbGUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIElucHV0OiBwcm9maWxlIG5hbWUgY2Fubm90IGJlIG9taXR0ZWQgbm9yIG9ubHkgY29udGFpbnMgd2hpdGUgc3BhY2VzLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIGxldCBjcmVkZW50aWFscyA9IHByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGlmICghY3JlZGVudGlhbHMpIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHJldHVybiBVdGlscy5kZWVwQ29weShjcmVkZW50aWFscyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlbGV0ZVByb2ZpbGUocHJvZmlsZSwgZmlsZVBhdGgpIHtcbiAgICAgICAgaWYgKCFwcm9maWxlIHx8IHByb2ZpbGUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIElucHV0OiBwcm9maWxlIG5hbWUgY2Fubm90IGJlIG9taXR0ZWQgbm9yIG9ubHkgY29udGFpbnMgd2hpdGUgc3BhY2VzLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIC8vIHByb2ZpbGVPYmplY3Qgd2lsbCBuZXZlciBiZSAnbnVsbCcuIHdvcnN0IGNhc2UgaXMge31cbiAgICAgICAgbGV0IG91dHB1dFByb2ZpbGVPYmplY3QgPSBVdGlscy5kZWVwQ29weShwcm9maWxlT2JqZWN0KTtcbiAgICAgICAgZGVsZXRlIG91dHB1dFByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGxldCBlbmNvZGVkUHJvZmlsZSA9IEluaS5lbmNvZGVJbmlGb3JtYXQob3V0cHV0UHJvZmlsZU9iamVjdCk7XG4gICAgICAgIFV0aWxzLndyaXRlRmlsZShjcmVkZW50aWFsUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRQcm9maWxlKHByb2ZpbGUsIGNyZWRlbnRpYWxzLCBmaWxlUGF0aCkge1xuICAgICAgICBpZiAoIXByb2ZpbGUgfHwgcHJvZmlsZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgSW5wdXQ6IHByb2ZpbGUgbmFtZSBjYW5ub3QgYmUgb21pdHRlZCBub3Igb25seSBjb250YWlucyB3aGl0ZSBzcGFjZXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzIHx8IE9iamVjdC5rZXlzKGNyZWRlbnRpYWxzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBJbnB1dDogY3JlZGVudGlhbHMgY2Fubm90IGJlIG9taXR0ZWQgbm9yIGVtcHR5LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNyZWRlbnRpYWxzKS5sZW5ndGggIT09IDIgfHxcbiAgICAgICAgICAgICF0aGlzLmlzVmFsaWRTY2hlbWEoY3JlZGVudGlhbHMpICYmXG4gICAgICAgICAgICAhdGhpcy5pc1ZhbGlkQWx0U2NoZW1hKGNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0OiBjcmVkZW50aWFscyBzY2hlbWEgaXMgaW52YWxpZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIGxldCBvdXRwdXRQcm9maWxlT2JqZWN0ID0gVXRpbHMuZGVlcENvcHkocHJvZmlsZU9iamVjdCk7XG4gICAgICAgIG91dHB1dFByb2ZpbGVPYmplY3RbcHJvZmlsZV0gPSBjcmVkZW50aWFscztcbiAgICAgICAgbGV0IGVuY29kZWRQcm9maWxlID0gSW5pLmVuY29kZUluaUZvcm1hdChvdXRwdXRQcm9maWxlT2JqZWN0KTtcbiAgICAgICAgVXRpbHMud3JpdGVGaWxlKGNyZWRlbnRpYWxQYXRoLCBlbmNvZGVkUHJvZmlsZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzVmFsaWRTY2hlbWEoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIChjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnYXdzX2FjY2Vzc19rZXlfaWQnKSAmJiBjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnYXdzX3NlY3JldF9hY2Nlc3Nfa2V5JykpXG4gICAgfVxuXG4gICAgc3RhdGljIGlzVmFsaWRBbHRTY2hlbWEoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIChjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgncm9sZV9hcm4nKSAmJiBjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnc291cmNlX3Byb2ZpbGUnKSlcbiAgICB9ICAgIFxufVxubW9kdWxlLmV4cG9ydHMgPSBhd3NQcm9maWxlSGFuZGxlcjtcblxuXG4iLCAiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBTdWdnZXN0TW9kYWwgIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIHByb2ZpbGVIYW5kbGVyIGZyb20gJ2F3cy1wcm9maWxlLWhhbmRsZXInO1xuLy8gaW1wb3J0IHtJbmksIFV0aWxzfSBmcm9tICdhd3MtcHJvZmlsZS1oYW5kbGVyJztcbmNvbnN0IEluaSA9IHJlcXVpcmUoJy4vbm9kZV9tb2R1bGVzL2F3cy1wcm9maWxlLWhhbmRsZXIvbGliL2luaScpO1xuY29uc3QgVXRpbHMgPSByZXF1aXJlKCcuL25vZGVfbW9kdWxlcy9hd3MtcHJvZmlsZS1oYW5kbGVyL2xpYi91dGlscycpO1xuXG5cbi8qXG52YXIgZiA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmhlbGxvSW4gPSBmdW5jdGlvbigpIHtcblx0XHRhbGVydCgnaGVsbG9JbkYnKTtcblx0fTtcdFxufVxuZi5wcm90b3R5cGUuaGVsbG8gPSBmdW5jdGlvbigpIHtcblx0YWxlcnQoJ2hlbGxvJyk7XG59XG5cbnZhciBnID0gZnVuY3Rpb24oKXtcblx0dGhpcy5oZWxsb0luID0gZnVuY3Rpb24oKSB7XG5cdFx0YWxlcnQoJ2hlbGxvSW5HJyk7XG5cdH07XG59XG5nLnByb3RvdHlwZSA9IG5ldyBmKCk7IFxuZy5wcm90b3R5cGUuY291Y291ID0gZnVuY3Rpb24oKXtcblx0YWxlcnQoJ2NvdWNvdScpOyBcbn1cblxudmFyIG8gPSBuZXcgZygpOyBcbm8uY291Y291KCk7IC8vIGFmZmljaGUgY291Y291XG5vLmhlbGxvKCk7ICAvLyBhZmZpY2hlIGhlbGxvXG5vLmhlbGxvSW4oKTsgLy8gYWZmaWNoZSBoZWxsb0luR1xuby5fX3Byb3RvX18uaGVsbG9JbigpOyAvLyBhZmZpY2hlIGhlbGxvSW5GXG5vLmNvdWNvdSA9IGZ1bmN0aW9uKCkge1xuXHRhbGVydCgnY291Y291T3V0Jyk7XHRcbn07XG5vLmNvdWNvdSgpOyAvL2FmZmljaGUgY291Y291T3V0XG4vLyBvLnByb3RvdHlwZS5oZWxsb0luID0gZnVuY3Rpb24oKSB7IC8vIENSQUFBQUFBU0hISEhISEhIIHR5cGUobykgIT0gZigpLCA9PSBnXG4vLyBcdGFsZXJ0KCdoZWxsb0luTycpO1xuLy8gfVxuLy8gby5oZWxsb0luKCk7IC8vYWZmaWNoZSBoZWxsb0luT1xuLy8gby5fX3Byb3RvX18uaGVsbG9JbigpOyAvL2FmZmljaGUgaGVsbG9Jbj9cblxuLy8gcWQgb24gdHJhdmFpbGxlIHN1ciBsZXMgZm9uY3Rpb25zIG91IGNsYXNzZXMsIG9uIHJlZmVyZW5jZSBsZSBwcm90b3R5cGUgYXZlYyBcIi5wcm90b3R5cGVcIiwgbWFpcyBxZCBvbiBlc3Qgc3VyXG4vLyBsJ29iamV0IGx1aSBtZW1lIChjYWQgbCdpbnN0YW5jZSBkZSBsYSBmb25jdGlvbiBvdSBjbGFzc2UpLCBvbiB1dGlsaXNlIFwiLl9fcHJvdG9fX1wiIHBvdXIgYXBwZWxlciBsZXMgZm9uY3Rpb24gZGVzIHByb3RvdHlwZXMgcGFyZW50c1xuKi9cblxuY29uc3QgZGVmYXVsdEZpbGVQYXRoID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJy5hd3MnLCAnY3JlZGVudGlhbHMnKTtcbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxuZnVuY3Rpb24gYWRkUHJvZmlsZShwcm9maWxlOiBzdHJpbmcsIGNyZWRlbnRpYWxzOiBPYmplY3QsIGZpbGVQYXRoID86IHN0cmluZykge1xuXHRpZiAoIXByb2ZpbGUgfHwgcHJvZmlsZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIElucHV0OiBwcm9maWxlIG5hbWUgY2Fubm90IGJlIG9taXR0ZWQgbm9yIG9ubHkgY29udGFpbnMgd2hpdGUgc3BhY2VzLicpO1xuXHR9XG5cblx0aWYgKCFjcmVkZW50aWFscyB8fCBPYmplY3Qua2V5cyhjcmVkZW50aWFscykubGVuZ3RoID09PSAwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIElucHV0OiBjcmVkZW50aWFscyBjYW5ub3QgYmUgb21pdHRlZCBub3IgZW1wdHkuJyk7XG5cdH1cblxuXHRpZiAoT2JqZWN0LmtleXMoY3JlZGVudGlhbHMpLmxlbmd0aCA8IDMgfHxcblx0XHQhcHJvZmlsZUhhbmRsZXIuaXNWYWxpZFNjaGVtYShjcmVkZW50aWFscykgJiZcblx0XHQhcHJvZmlsZUhhbmRsZXIuaXNWYWxpZEFsdFNjaGVtYShjcmVkZW50aWFscykpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQ6IGNyZWRlbnRpYWxzIHNjaGVtYSBpcyBpbnZhbGlkLicpO1xuXHR9XG5cblx0bGV0IGNyZWRlbnRpYWxQYXRoID0gZmlsZVBhdGggfHwgZGVmYXVsdEZpbGVQYXRoO1xuXHRsZXQgcHJvZmlsZU9iamVjdCA9IEluaS5kZWNvZGVJbmlEYXRhKFV0aWxzLnJlYWRGaWxlKGNyZWRlbnRpYWxQYXRoKSk7XG5cblx0bGV0IG91dHB1dFByb2ZpbGVPYmplY3QgPSBVdGlscy5kZWVwQ29weShwcm9maWxlT2JqZWN0KTtcblx0b3V0cHV0UHJvZmlsZU9iamVjdFtwcm9maWxlXSA9IGNyZWRlbnRpYWxzO1xuXHRsZXQgZW5jb2RlZFByb2ZpbGUgPSBJbmkuZW5jb2RlSW5pRm9ybWF0KG91dHB1dFByb2ZpbGVPYmplY3QpO1xuXHRVdGlscy53cml0ZUZpbGUoY3JlZGVudGlhbFBhdGgsIGVuY29kZWRQcm9maWxlKTtcblxufVxuXG5cbmludGVyZmFjZSBNeVBsdWdpblNldHRpbmdzIHtcblx0bXlTZXR0aW5nOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15UGx1Z2luU2V0dGluZ3MgPSB7XG5cdG15U2V0dGluZzogJ2RlZmF1bHQnXG59XG5jb25zdCBERUZBVUxUX1BST0ZJTEUgPSAnZGVmYXVsdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTb3J0ZWRQcm9maWxlc0NyZWRlbnRpYWxzKGluY2x1ZGVEZWZhdWx0UHJvZmlsZSA9IHRydWUpIHtcblxuXHRjb25zdCBjcmVkZW50aWFsc0ZpbGUgPSBwYXRoLmpvaW4ob3MuaG9tZWRpcigpLCAnLmF3cycsICdjcmVkZW50aWFscycpO1xuXHRsZXQgcmVzdWx0ID0gW107XG5cblx0aWYgKGZzLmV4aXN0c1N5bmMoY3JlZGVudGlhbHNGaWxlKSkge1xuXG5cdFx0Ly8gbGlzdFByb2ZpbGUgd2lsbCBjaGVjayBpZiBmaWxlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB2YWxpZCxcblx0XHQvLyBubyBuZWVkIHRvIHByb2NlZWQsIGp1c3QgY2FsbGJhY2sgdGhlIGVycm9yLlxuXHRcdHRyeSB7XG5cdFx0XHQvLyBpZiB0aGUgY3JlZGVudGlhbCBmaWxlIGlzIGVtcHR5LCBDTEkgd2lsbCBuYW1lIHRoZSBmaXJzdCBwcm9maWxlIGFzICdkZWZhdWx0J1xuXHRcdFx0Y29uc3QgcHJvZmlsZXMgPSBwcm9maWxlSGFuZGxlci5saXN0UHJvZmlsZXMoKTtcblxuXHRcdFx0aWYgKGluY2x1ZGVEZWZhdWx0UHJvZmlsZSA9PT0gZmFsc2UpIHtcblx0XHRcdFx0Y29uc3QgaW5kZXggPSBwcm9maWxlcy5pbmRleE9mKERFRkFVTFRfUFJPRklMRSk7XG5cblx0XHRcdFx0aWYgKGluZGV4ID4gLTEpIHtcblx0XHRcdFx0XHRwcm9maWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJlc3VsdCA9IHByb2ZpbGVzLnNvcnQoKTtcblxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhgRmlsZSAnJHtjcmVkZW50aWFsc0ZpbGV9JyBpcyBub3QgdmFsaWQuYCk7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XG5cdFx0fVxuXG5cdH1cblx0ZWxzZSB7XG5cdFx0Y29uc29sZS5sb2coYEZpbGUgJyR7Y3JlZGVudGlhbHNGaWxlfScgZG9lcyBub3QgZXhpc3QuYCk7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8vIGV4cG9ydCBjbGFzcyBFeGFtcGxlTW9kYWxfMSBleHRlbmRzIE1vZGFsIHtcbi8vIFx0cmVzdWx0OiBzdHJpbmc7XG4vLyBcdG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQ7XG5cbi8vIFx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIG9uU3VibWl0OiAocmVzdWx0OiBzdHJpbmcpID0+IHZvaWQpIHtcbi8vIFx0XHRzdXBlcihhcHApO1xuLy8gXHRcdHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdDtcbi8vIFx0fVxuXG4vLyBcdG9uT3BlbigpIHtcbi8vIFx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblxuLy8gXHRcdGNvbnRlbnRFbC5jcmVhdGVFbChcImgxXCIsIHsgdGV4dDogXCJXaGF0J3MgeW91ciBuYW1lP1wiIH0pO1xuXG4vLyBcdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxuLy8gXHRcdFx0LnNldE5hbWUoXCJOYW1lXCIpXG4vLyBcdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cbi8vIFx0XHRcdFx0dGV4dC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbi8vIFx0XHRcdFx0XHR0aGlzLnJlc3VsdCA9IHZhbHVlXG4vLyBcdFx0XHRcdH0pKTtcblxuLy8gXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcbi8vIFx0XHRcdC5hZGRCdXR0b24oKGJ0bikgPT5cbi8vIFx0XHRcdFx0YnRuXG4vLyBcdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoXCJTdWJtaXRcIilcbi8vIFx0XHRcdFx0XHQuc2V0Q3RhKClcbi8vIFx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XG4vLyBcdFx0XHRcdFx0XHR0aGlzLmNsb3NlKCk7XG4vLyBcdFx0XHRcdFx0XHR0aGlzLm9uU3VibWl0KHRoaXMucmVzdWx0KTtcbi8vIFx0XHRcdFx0XHR9KSk7XG4vLyBcdH1cblxuLy8gXHRvbkNsb3NlKCkge1xuLy8gXHRcdGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbi8vIFx0XHRjb250ZW50RWwuZW1wdHkoKTtcbi8vIFx0fVxuLy8gfVxuXG5jb25zdCBzb3J0ZWRQcm9maWxlc0NyZWRzID0gZ2V0U29ydGVkUHJvZmlsZXNDcmVkZW50aWFscygpOyBcblxuZXhwb3J0IGNsYXNzIFN1Z2dlc3RBd3NQcm9maWxlIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPFN0cmluZz4ge1xuXG5cdC8vIFJldHVybnMgYWxsIGF2YWlsYWJsZSBzdWdnZXN0aW9ucy5cblx0Z2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IFN0cmluZ1tdIHtcblx0XHRsZXQgbG9jYWxzb3J0ZWRQcm9maWxlc0NyZWRzID0gc29ydGVkUHJvZmlsZXNDcmVkcztcblx0XHRsZXQgY2hvaWNlID0gbG9jYWxzb3J0ZWRQcm9maWxlc0NyZWRzLmZpbHRlcigocHJvZmlsZTogc3RyaW5nKSA9PlxuXHRcdFx0cHJvZmlsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpXG5cdFx0KTtcblx0XHRyZXR1cm4gY2hvaWNlXG5cdH1cblxuXHQvLyBSZW5kZXJzIGVhY2ggc3VnZ2VzdGlvbiBpdGVtLlxuXHRyZW5kZXJTdWdnZXN0aW9uKHByb2ZpbGU6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSB7XG5cdFx0ZWwuY3JlYXRlRWwoXCJkaXZcIiwgeyB0ZXh0OiBwcm9maWxlIH0pO1xuXHR9XG5cblx0Ly8gUGVyZm9ybSBhY3Rpb24gb24gdGhlIHNlbGVjdGVkIHN1Z2dlc3Rpb24uXG5cdG9uQ2hvb3NlU3VnZ2VzdGlvbihwcm9maWxlOiBzdHJpbmcsIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpIHtcblx0XHRsZXQgcHJvZmlsZUNyZWRzID0gcHJvZmlsZUhhbmRsZXIuZ2V0UHJvZmlsZUNyZWRlbnRpYWxzKHByb2ZpbGUpO1xuXHRcdGFkZFByb2ZpbGUoXCJkZWZhdWx0XCIsIHByb2ZpbGVDcmVkcyk7XG5cdFx0bmV3IE5vdGljZShgU2VsZWN0ZWQgJHtwcm9maWxlfSBhcyBEZWZhdWx0YCk7XG5cdH1cbn1cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE15UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IE15UGx1Z2luU2V0dGluZ3M7XG5cdGFzeW5jIG9ubG9hZCgpIHtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJzd2l0Y2ggcHJvZmlsZVwiLFxuXHRcdFx0bmFtZTogXCJTd2l0Y2ggdG8gQVdTIHByb2ZpbGVcIixcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiSGV5LCB5b3UhXCIrb3MuaG9tZWRpcigpKTtcblx0XHRcdFx0bmV3IFN1Z2dlc3RBd3NQcm9maWxlKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0Y29uc29sZS5sb2coJ2xvYWRpbmcgcGx1Z2luJylcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxuXHRcdGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignZGljZScsICdBV1MgUHJvZmlsZSBNYW5hZ2VyJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0Ly8gQ2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBpY29uLlxuXHRcdFx0bmV3IE5vdGljZSgnSGVqIEJybywgbWFrZSB5b3VyIGF3cyBwcm9maWxlIGNob2ljZSAhJyk7XG5cdFx0XHRuZXcgU3VnZ2VzdEF3c1Byb2ZpbGUodGhpcy5hcHApLm9wZW4oKTtcblx0XHR9KTtcblx0XHQvLyBQZXJmb3JtIGFkZGl0aW9uYWwgdGhpbmdzIHdpdGggdGhlIHJpYmJvblxuXHRcdHJpYmJvbkljb25FbC5hZGRDbGFzcygnbXktcGx1Z2luLXJpYmJvbi1jbGFzcycpO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc3RhdHVzIGJhciBpdGVtIHRvIHRoZSBib3R0b20gb2YgdGhlIGFwcC4gRG9lcyBub3Qgd29yayBvbiBtb2JpbGUgYXBwcy5cblx0XHRjb25zdCBzdGF0dXNCYXJJdGVtRWwgPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcblx0XHRzdGF0dXNCYXJJdGVtRWwuc2V0VGV4dCgnU3RhdHVzIEJhciBUZXh0Jyk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2FtcGxlU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0Ly8gSWYgdGhlIHBsdWdpbiBob29rcyB1cCBhbnkgZ2xvYmFsIERPTSBldmVudHMgKG9uIHBhcnRzIG9mIHRoZSBhcHAgdGhhdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIHBsdWdpbilcblx0XHQvLyBVc2luZyB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhpcyBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygnY2xpY2snLCBldnQpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckludGVydmFsKHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKSwgNSAqIDYwICogMTAwMCkpO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdFx0Y29uc29sZS5sb2coJ3VubG9hZGluZyBwbHVnaW4nKVxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IE15UGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE15UGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ1NldHRpbmdzIGZvciBteSBhd2Vzb21lIHBsdWdpbi4nfSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTZXR0aW5nICMxJylcblx0XHRcdC5zZXREZXNjKCdJdFxcJ3MgYSBzZWNyZXQnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgeW91ciBzZWNyZXQnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1NlY3JldDogJyArIHZhbHVlKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSx5REFBQUEsU0FBQTtBQUFBO0FBRUEsUUFBTUMsT0FBTixNQUFVO0FBQUEsTUFDTixPQUFPLGNBQWMsU0FB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QSxJQUN0QyxDQUFDO0FBRUQsaUJBQWEsU0FBUyx3QkFBd0I7QUFHOUMsVUFBTSxrQkFBa0IsS0FBSyxpQkFBaUI7QUFDOUMsb0JBQWdCLFFBQVEsaUJBQWlCO0FBR3pDLFNBQUssY0FBYyxJQUFJLGlCQUFpQixLQUFLLEtBQUssSUFBSSxDQUFDO0FBSXZELFNBQUssaUJBQWlCLFVBQVUsU0FBUyxDQUFDLFFBQW9CO0FBQzdELGNBQVEsSUFBSSxTQUFTLEdBQUc7QUFBQSxJQUN6QixDQUFDO0FBR0QsU0FBSyxpQkFBaUIsT0FBTyxZQUFZLE1BQU0sUUFBUSxJQUFJLGFBQWEsR0FBRyxJQUFJLEtBQUssR0FBSSxDQUFDO0FBQUEsRUFDMUY7QUFBQSxFQUVBLFdBQVc7QUFDVixZQUFRLElBQUksa0JBQWtCO0FBQUEsRUFDL0I7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFDRDtBQUVBLElBQU0sbUJBQU4sY0FBK0IsaUNBQWlCO0FBQUEsRUFHL0MsWUFBWSxLQUFVLFFBQWtCO0FBQ3ZDLFVBQU0sS0FBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUVBLFVBQWdCO0FBQ2YsVUFBTSxFQUFDLFlBQVcsSUFBSTtBQUV0QixnQkFBWSxNQUFNO0FBRWxCLGdCQUFZLFNBQVMsTUFBTSxFQUFDLE1BQU0sa0NBQWlDLENBQUM7QUFFcEUsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsWUFBWSxFQUNwQixRQUFRLGVBQWdCLEVBQ3hCLFFBQVEsVUFBUSxLQUNmLGVBQWUsbUJBQW1CLEVBQ2xDLFNBQVMsS0FBSyxPQUFPLFNBQVMsU0FBUyxFQUN2QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixjQUFRLElBQUksYUFBYSxLQUFLO0FBQzlCLFdBQUssT0FBTyxTQUFTLFlBQVk7QUFDakMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUFBLEVBQ0w7QUFDRDsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgIkluaSIsICJtb2R1bGUiLCAiZnMiLCAiVXRpbHMiLCAibW9kdWxlIiwgInBhdGgiLCAib3MiLCAiSW5pIiwgIlV0aWxzIiwgImRlZmF1bHRGaWxlUGF0aCJdCn0K
