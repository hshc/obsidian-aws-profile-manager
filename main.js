/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/aws-profile-handler/lib/ini.js
var require_ini = __commonJS({
  "node_modules/aws-profile-handler/lib/ini.js"(exports, module2) {
    "use strict";
    var Ini2 = class {
      static decodeIniData(rawData) {
        let currentSection;
        let map = {};
        let uniqueSectionFlag = false;
        let lines = rawData.split(/\r?\n/);
        if (Ini2._emptyCheck(lines))
          return {};
        lines.forEach((line) => {
          line = line.split(/(^|\s)[;#]/)[0].trim();
          if (!line)
            return;
          let section = line.match(/^\s*\[([^\[\]]+)\]\s*$/);
          if (section && uniqueSectionFlag) {
            throw new Error("Invalid AWS credential file. Cannot have nested sessions");
          } else if (section) {
            currentSection = section[1];
            uniqueSectionFlag = true;
          } else {
            let item = line.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);
            if (item) {
              map[currentSection] = map[currentSection] || {};
              map[currentSection][item[1]] = item[2];
              uniqueSectionFlag = false;
            } else {
              throw new Error("Invalid AWS credential file. Incomplete key/value pair");
            }
          }
        });
        return map;
      }
      static encodeIniFormat(iniObject) {
        function _flattenObject(object) {
          let listObject = Object.keys(object).reduce((result, key) => {
            result.push(key + "=" + object[key]);
            return result;
          }, []);
          return listObject;
        }
        let dividedIntoListOfObjects = Object.keys(iniObject).map((session) => {
          let newObject = {};
          newObject[session] = iniObject[session];
          return newObject;
        });
        let encodedIniContentList = dividedIntoListOfObjects.reduce(
          (iniContentList, sessionObject) => {
            let sessionName = Object.keys(sessionObject)[0];
            iniContentList.push("[" + sessionName + "]");
            let listChild = _flattenObject(sessionObject[sessionName]);
            return iniContentList.concat(listChild, "");
          },
          []
        );
        return encodedIniContentList.join("\n");
      }
      static _emptyCheck(array) {
        if (array.length === 0)
          return true;
        for (let item of array) {
          if (item.trim().length !== 0) {
            return false;
          }
        }
        return true;
      }
    };
    module2.exports = Ini2;
  }
});

// node_modules/aws-profile-handler/lib/utils.js
var require_utils = __commonJS({
  "node_modules/aws-profile-handler/lib/utils.js"(exports, module2) {
    "use strict";
    var fs2 = require("fs");
    var Utils2 = class {
      static writeFile(filePath, encodedOutput) {
        fs2.writeFileSync(filePath, encodedOutput, "utf-8");
      }
      static deepCopy(object) {
        return JSON.parse(JSON.stringify(object));
      }
      static readFile(filePath) {
        return fs2.readFileSync(filePath, "utf-8");
      }
    };
    module2.exports = Utils2;
  }
});

// node_modules/aws-profile-handler/index.js
var require_aws_profile_handler = __commonJS({
  "node_modules/aws-profile-handler/index.js"(exports, module2) {
    "use strict";
    var path2 = require("path");
    var os2 = require("os");
    var Ini2 = require_ini();
    var Utils2 = require_utils();
    var defaultFilePath2 = path2.join(os2.homedir(), ".aws", "credentials");
    var awsProfileHandler = class {
      /**
       * @deprecated
       * @param filePath
       */
      constructor(filePath) {
        const defaultFilePath3 = path2.join(os2.homedir(), ".aws", "credentials");
        this.filePath = filePath || defaultFilePath3;
        this.profileObject = Ini2.decodeIniData(Utils2.readFile(this.filePath));
      }
      /**
       * @deprecated
       * @return {Array}
       */
      listProfiles() {
        return Object.keys(this.profileObject);
      }
      /**
       * @deprecated
       * @param profile
       * @return {*}
       */
      getProfileCredentials(profile) {
        let credentials = this.profileObject[profile];
        if (!credentials)
          return null;
        else
          return Utils2.deepCopy(credentials);
      }
      /**
       * @deprecated
       * @param profile
       */
      deleteProfile(profile) {
        let outputProfileObject = Utils2.deepCopy(this.profileObject);
        delete outputProfileObject[profile];
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(this.filePath, encodedProfile);
      }
      /**
       * @deprecated
       * @param profile
       * @param credentials
       */
      addProfile(profile, credentials) {
        let outputProfileObject = Utils2.deepCopy(this.profileObject);
        outputProfileObject[profile] = credentials;
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(this.filePath, encodedProfile);
      }
      static listProfiles(filePath) {
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        return Object.keys(profileObject);
      }
      static getProfileCredentials(profile, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let credentials = profileObject[profile];
        if (!credentials)
          return null;
        else
          return Utils2.deepCopy(credentials);
      }
      static deleteProfile(profile, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let outputProfileObject = Utils2.deepCopy(profileObject);
        delete outputProfileObject[profile];
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(credentialPath, encodedProfile);
      }
      static addProfile(profile, credentials, filePath) {
        if (!profile || profile.trim().length === 0) {
          throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
        }
        if (!credentials || Object.keys(credentials).length === 0) {
          throw new Error("Invalid Input: credentials cannot be omitted nor empty.");
        }
        if (Object.keys(credentials).length !== 2 || !this.isValidSchema(credentials) && !this.isValidAltSchema(credentials)) {
          throw new Error("Invalid input: credentials schema is invalid.");
        }
        let credentialPath = filePath || defaultFilePath2;
        let profileObject = Ini2.decodeIniData(Utils2.readFile(credentialPath));
        let outputProfileObject = Utils2.deepCopy(profileObject);
        outputProfileObject[profile] = credentials;
        let encodedProfile = Ini2.encodeIniFormat(outputProfileObject);
        Utils2.writeFile(credentialPath, encodedProfile);
      }
      static isValidSchema(credentials) {
        return credentials.hasOwnProperty("aws_access_key_id") && credentials.hasOwnProperty("aws_secret_access_key");
      }
      static isValidAltSchema(credentials) {
        return credentials.hasOwnProperty("role_arn") && credentials.hasOwnProperty("source_profile");
      }
    };
    module2.exports = awsProfileHandler;
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  SuggestAwsProfile: () => SuggestAwsProfile,
  default: () => MyPlugin,
  getSortedProfilesCredentials: () => getSortedProfilesCredentials
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var os = __toESM(require("os"));
var path = __toESM(require("path"));
var fs = __toESM(require("fs"));
var profileHandler = __toESM(require_aws_profile_handler());
var Ini = require_ini();
var Utils = require_utils();
var defaultFilePath = path.join(os.homedir(), ".aws", "credentials");
function addProfile(profile, credentials, filePath) {
  if (!profile || profile.trim().length === 0) {
    throw new Error("Invalid Input: profile name cannot be omitted nor only contains white spaces.");
  }
  if (!credentials || Object.keys(credentials).length === 0) {
    throw new Error("Invalid Input: credentials cannot be omitted nor empty.");
  }
  if (Object.keys(credentials).length < 3 || !profileHandler.isValidSchema(credentials) && !profileHandler.isValidAltSchema(credentials)) {
    throw new Error("Invalid input: credentials schema is invalid.");
  }
  let credentialPath = filePath || defaultFilePath;
  let profileObject = Ini.decodeIniData(Utils.readFile(credentialPath));
  let outputProfileObject = Utils.deepCopy(profileObject);
  outputProfileObject[profile] = credentials;
  let encodedProfile = Ini.encodeIniFormat(outputProfileObject);
  Utils.writeFile(credentialPath, encodedProfile);
}
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var DEFAULT_PROFILE = "default";
function getSortedProfilesCredentials(includeDefaultProfile = true) {
  const credentialsFile = path.join(os.homedir(), ".aws", "credentials");
  let result = [];
  if (fs.existsSync(credentialsFile)) {
    try {
      const profiles = profileHandler.listProfiles();
      if (includeDefaultProfile === false) {
        const index = profiles.indexOf(DEFAULT_PROFILE);
        if (index > -1) {
          profiles.splice(index, 1);
        }
      }
      result = profiles.sort();
    } catch (error) {
      console.log(`File '${credentialsFile}' is not valid.`);
      console.log(error);
    }
  } else {
    console.log(`File '${credentialsFile}' does not exist.`);
  }
  return result;
}
var sortedProfilesCreds = getSortedProfilesCredentials();
var SuggestAwsProfile = class extends import_obsidian.SuggestModal {
  // Returns all available suggestions.
  getSuggestions(query) {
    let localsortedProfilesCreds = sortedProfilesCreds;
    let choice = localsortedProfilesCreds.filter(
      (profile) => profile.toLowerCase().includes(query.toLowerCase())
    );
    return choice;
  }
  // Renders each suggestion item.
  renderSuggestion(profile, el) {
    el.createEl("div", { text: profile });
  }
  // Perform action on the selected suggestion.
  onChooseSuggestion(profile, evt) {
    let profileCreds = profileHandler.getProfileCredentials(profile);
    addProfile("default", profileCreds);
    new import_obsidian.Notice(`Selected ${profile} as Default`);
  }
};
var MyPlugin = class extends import_obsidian.Plugin {
  async onload() {
    this.addCommand({
      id: "switch profile",
      name: "Switch to AWS profile",
      callback: () => {
        console.log("Hey, you!" + os.homedir());
        new SuggestAwsProfile(this.app).open();
      }
    });
    console.log("loading plugin");
    await this.loadSettings();
    const ribbonIconEl = this.addRibbonIcon("dice", "AWS Profile Manager", (evt) => {
      new import_obsidian.Notice("Hej Bro, make your aws profile choice !");
      new SuggestAwsProfile(this.app).open();
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerDomEvent(document, "click", (evt) => {
      console.log("click", evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
    console.log("unloading plugin");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for my awesome plugin." });
    new import_obsidian.Setting(containerEl).setName("Setting #1").setDesc("It's a secret").addText((text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.mySetting).onChange(async (value) => {
      console.log("Secret: " + value);
      this.plugin.settings.mySetting = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2F3cy1wcm9maWxlLWhhbmRsZXIvbGliL2luaS5qcyIsICJub2RlX21vZHVsZXMvYXdzLXByb2ZpbGUtaGFuZGxlci9saWIvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL2F3cy1wcm9maWxlLWhhbmRsZXIvaW5kZXguanMiLCAibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBJbmkge1xuICAgIHN0YXRpYyBkZWNvZGVJbmlEYXRhKHJhd0RhdGEpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRTZWN0aW9uO1xuICAgICAgICBsZXQgbWFwID0ge307XG4gICAgICAgIGxldCB1bmlxdWVTZWN0aW9uRmxhZyA9IGZhbHNlO1xuICAgICAgICBsZXQgbGluZXMgPSByYXdEYXRhLnNwbGl0KC9cXHI/XFxuLyk7XG5cbiAgICAgICAgaWYgKEluaS5fZW1wdHlDaGVjayhsaW5lcykpIHJldHVybiB7fTtcblxuXG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMgcmVnZXggd2lsbCByZW1vdmUgY29tbWVudHMgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGVhY2ggYXdzIHByb2ZpbGVcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNwbGl0KC8oXnxcXHMpWzsjXS8pWzBdLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghbGluZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBsZXQgc2VjdGlvbiA9IGxpbmUubWF0Y2goL15cXHMqXFxbKFteXFxbXFxdXSspXFxdXFxzKiQvKTtcbiAgICAgICAgICAgIGlmIChzZWN0aW9uICYmIHVuaXF1ZVNlY3Rpb25GbGFnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFXUyBjcmVkZW50aWFsIGZpbGUuIENhbm5vdCBoYXZlIG5lc3RlZCBzZXNzaW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VjdGlvbikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZWN0aW9uID0gc2VjdGlvblsxXTtcbiAgICAgICAgICAgICAgICB1bmlxdWVTZWN0aW9uRmxhZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gbGluZS5tYXRjaCgvXlxccyooLis/KVxccyo9XFxzKiguKz8pXFxzKiQvKTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl0gPSBtYXBbY3VycmVudFNlY3Rpb25dIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICBtYXBbY3VycmVudFNlY3Rpb25dW2l0ZW1bMV1dID0gaXRlbVsyXTtcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlU2VjdGlvbkZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQVdTIGNyZWRlbnRpYWwgZmlsZS4gSW5jb21wbGV0ZSBrZXkvdmFsdWUgcGFpcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuXG4gICAgc3RhdGljIGVuY29kZUluaUZvcm1hdChpbmlPYmplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gX2ZsYXR0ZW5PYmplY3Qob2JqZWN0KSB7XG4gICAgICAgICAgICBsZXQgbGlzdE9iamVjdCA9IE9iamVjdC5rZXlzKG9iamVjdCkucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSArIFwiPVwiICsgb2JqZWN0W2tleV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdE9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkaXZpZGVkSW50b0xpc3RPZk9iamVjdHMgPSBPYmplY3Qua2V5cyhpbmlPYmplY3QpLm1hcCgoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld09iamVjdCA9IHt9O1xuICAgICAgICAgICAgbmV3T2JqZWN0W3Nlc3Npb25dID0gaW5pT2JqZWN0W3Nlc3Npb25dO1xuICAgICAgICAgICAgcmV0dXJuIG5ld09iamVjdDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGVuY29kZWRJbmlDb250ZW50TGlzdCA9IGRpdmlkZWRJbnRvTGlzdE9mT2JqZWN0cy5yZWR1Y2UoXG4gICAgICAgICAgICAoaW5pQ29udGVudExpc3QsIHNlc3Npb25PYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvbk5hbWUgPSBPYmplY3Qua2V5cyhzZXNzaW9uT2JqZWN0KVswXTtcbiAgICAgICAgICAgICAgICBpbmlDb250ZW50TGlzdC5wdXNoKFwiW1wiICsgc2Vzc2lvbk5hbWUgKyBcIl1cIik7XG5cbiAgICAgICAgICAgICAgICBsZXQgbGlzdENoaWxkID0gX2ZsYXR0ZW5PYmplY3Qoc2Vzc2lvbk9iamVjdFtzZXNzaW9uTmFtZV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmlDb250ZW50TGlzdC5jb25jYXQobGlzdENoaWxkLCAnJyk7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkSW5pQ29udGVudExpc3Quam9pbignXFxuJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIF9lbXB0eUNoZWNrKGFycmF5KSB7XG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGFycmF5KSB7XG4gICAgICAgICAgICBpZiAoaXRlbS50cmltKCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbmk7IiwgIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5jbGFzcyBVdGlscyB7XG4gICAgc3RhdGljIHdyaXRlRmlsZShmaWxlUGF0aCwgZW5jb2RlZE91dHB1dCkge1xuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBlbmNvZGVkT3V0cHV0LCAndXRmLTgnKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVlcENvcHkob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWFkRmlsZShmaWxlUGF0aCkge1xuICAgICAgICByZXR1cm4gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmLTgnKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVXRpbHM7IiwgIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcbmNvbnN0IEluaSA9IHJlcXVpcmUoJy4vbGliL2luaScpO1xuY29uc3QgVXRpbHMgPSByZXF1aXJlKCcuL2xpYi91dGlscycpO1xuY29uc3QgZGVmYXVsdEZpbGVQYXRoID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJy5hd3MnLCAnY3JlZGVudGlhbHMnKTtcblxuY2xhc3MgYXdzUHJvZmlsZUhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHBhcmFtIGZpbGVQYXRoXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZmlsZVBhdGgpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEZpbGVQYXRoID0gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJy5hd3MnLCAnY3JlZGVudGlhbHMnKTtcbiAgICAgICAgdGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgdGhpcy5wcm9maWxlT2JqZWN0ID0gSW5pLmRlY29kZUluaURhdGEoVXRpbHMucmVhZEZpbGUodGhpcy5maWxlUGF0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgbGlzdFByb2ZpbGVzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wcm9maWxlT2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEBwYXJhbSBwcm9maWxlXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBnZXRQcm9maWxlQ3JlZGVudGlhbHMocHJvZmlsZSkge1xuICAgICAgICBsZXQgY3JlZGVudGlhbHMgPSB0aGlzLnByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGlmICghY3JlZGVudGlhbHMpIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHJldHVybiBVdGlscy5kZWVwQ29weShjcmVkZW50aWFscyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAcGFyYW0gcHJvZmlsZVxuICAgICAqL1xuICAgIGRlbGV0ZVByb2ZpbGUocHJvZmlsZSkge1xuICAgICAgICBsZXQgb3V0cHV0UHJvZmlsZU9iamVjdCA9IFV0aWxzLmRlZXBDb3B5KHRoaXMucHJvZmlsZU9iamVjdCk7XG4gICAgICAgIGRlbGV0ZSBvdXRwdXRQcm9maWxlT2JqZWN0W3Byb2ZpbGVdO1xuICAgICAgICBsZXQgZW5jb2RlZFByb2ZpbGUgPSBJbmkuZW5jb2RlSW5pRm9ybWF0KG91dHB1dFByb2ZpbGVPYmplY3QpO1xuICAgICAgICBVdGlscy53cml0ZUZpbGUodGhpcy5maWxlUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHBhcmFtIHByb2ZpbGVcbiAgICAgKiBAcGFyYW0gY3JlZGVudGlhbHNcbiAgICAgKi9cbiAgICBhZGRQcm9maWxlKHByb2ZpbGUsIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGxldCBvdXRwdXRQcm9maWxlT2JqZWN0ID0gVXRpbHMuZGVlcENvcHkodGhpcy5wcm9maWxlT2JqZWN0KTtcbiAgICAgICAgb3V0cHV0UHJvZmlsZU9iamVjdFtwcm9maWxlXSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICBsZXQgZW5jb2RlZFByb2ZpbGUgPSBJbmkuZW5jb2RlSW5pRm9ybWF0KG91dHB1dFByb2ZpbGVPYmplY3QpO1xuICAgICAgICBVdGlscy53cml0ZUZpbGUodGhpcy5maWxlUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBsaXN0UHJvZmlsZXMoZmlsZVBhdGgpIHtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxQYXRoID0gZmlsZVBhdGggfHwgZGVmYXVsdEZpbGVQYXRoO1xuICAgICAgICBsZXQgcHJvZmlsZU9iamVjdCA9IEluaS5kZWNvZGVJbmlEYXRhKFV0aWxzLnJlYWRGaWxlKGNyZWRlbnRpYWxQYXRoKSk7XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb2ZpbGVPYmplY3QpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRQcm9maWxlQ3JlZGVudGlhbHMocHJvZmlsZSwgZmlsZVBhdGgpIHtcbiAgICAgICAgaWYgKCFwcm9maWxlIHx8IHByb2ZpbGUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIElucHV0OiBwcm9maWxlIG5hbWUgY2Fubm90IGJlIG9taXR0ZWQgbm9yIG9ubHkgY29udGFpbnMgd2hpdGUgc3BhY2VzLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIGxldCBjcmVkZW50aWFscyA9IHByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGlmICghY3JlZGVudGlhbHMpIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHJldHVybiBVdGlscy5kZWVwQ29weShjcmVkZW50aWFscyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlbGV0ZVByb2ZpbGUocHJvZmlsZSwgZmlsZVBhdGgpIHtcbiAgICAgICAgaWYgKCFwcm9maWxlIHx8IHByb2ZpbGUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIElucHV0OiBwcm9maWxlIG5hbWUgY2Fubm90IGJlIG9taXR0ZWQgbm9yIG9ubHkgY29udGFpbnMgd2hpdGUgc3BhY2VzLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIC8vIHByb2ZpbGVPYmplY3Qgd2lsbCBuZXZlciBiZSAnbnVsbCcuIHdvcnN0IGNhc2UgaXMge31cbiAgICAgICAgbGV0IG91dHB1dFByb2ZpbGVPYmplY3QgPSBVdGlscy5kZWVwQ29weShwcm9maWxlT2JqZWN0KTtcbiAgICAgICAgZGVsZXRlIG91dHB1dFByb2ZpbGVPYmplY3RbcHJvZmlsZV07XG4gICAgICAgIGxldCBlbmNvZGVkUHJvZmlsZSA9IEluaS5lbmNvZGVJbmlGb3JtYXQob3V0cHV0UHJvZmlsZU9iamVjdCk7XG4gICAgICAgIFV0aWxzLndyaXRlRmlsZShjcmVkZW50aWFsUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRQcm9maWxlKHByb2ZpbGUsIGNyZWRlbnRpYWxzLCBmaWxlUGF0aCkge1xuICAgICAgICBpZiAoIXByb2ZpbGUgfHwgcHJvZmlsZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgSW5wdXQ6IHByb2ZpbGUgbmFtZSBjYW5ub3QgYmUgb21pdHRlZCBub3Igb25seSBjb250YWlucyB3aGl0ZSBzcGFjZXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzIHx8IE9iamVjdC5rZXlzKGNyZWRlbnRpYWxzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBJbnB1dDogY3JlZGVudGlhbHMgY2Fubm90IGJlIG9taXR0ZWQgbm9yIGVtcHR5LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNyZWRlbnRpYWxzKS5sZW5ndGggIT09IDIgfHxcbiAgICAgICAgICAgICF0aGlzLmlzVmFsaWRTY2hlbWEoY3JlZGVudGlhbHMpICYmXG4gICAgICAgICAgICAhdGhpcy5pc1ZhbGlkQWx0U2NoZW1hKGNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0OiBjcmVkZW50aWFscyBzY2hlbWEgaXMgaW52YWxpZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjcmVkZW50aWFsUGF0aCA9IGZpbGVQYXRoIHx8IGRlZmF1bHRGaWxlUGF0aDtcbiAgICAgICAgbGV0IHByb2ZpbGVPYmplY3QgPSBJbmkuZGVjb2RlSW5pRGF0YShVdGlscy5yZWFkRmlsZShjcmVkZW50aWFsUGF0aCkpO1xuXG4gICAgICAgIGxldCBvdXRwdXRQcm9maWxlT2JqZWN0ID0gVXRpbHMuZGVlcENvcHkocHJvZmlsZU9iamVjdCk7XG4gICAgICAgIG91dHB1dFByb2ZpbGVPYmplY3RbcHJvZmlsZV0gPSBjcmVkZW50aWFscztcbiAgICAgICAgbGV0IGVuY29kZWRQcm9maWxlID0gSW5pLmVuY29kZUluaUZvcm1hdChvdXRwdXRQcm9maWxlT2JqZWN0KTtcbiAgICAgICAgVXRpbHMud3JpdGVGaWxlKGNyZWRlbnRpYWxQYXRoLCBlbmNvZGVkUHJvZmlsZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzVmFsaWRTY2hlbWEoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIChjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnYXdzX2FjY2Vzc19rZXlfaWQnKSAmJiBjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnYXdzX3NlY3JldF9hY2Nlc3Nfa2V5JykpXG4gICAgfVxuXG4gICAgc3RhdGljIGlzVmFsaWRBbHRTY2hlbWEoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIChjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgncm9sZV9hcm4nKSAmJiBjcmVkZW50aWFscy5oYXNPd25Qcm9wZXJ0eSgnc291cmNlX3Byb2ZpbGUnKSlcbiAgICB9ICAgIFxufVxubW9kdWxlLmV4cG9ydHMgPSBhd3NQcm9maWxlSGFuZGxlcjtcblxuXG4iLCAiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBTdWdnZXN0TW9kYWwgIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIHByb2ZpbGVIYW5kbGVyIGZyb20gJ2F3cy1wcm9maWxlLWhhbmRsZXInO1xuLy8gaW1wb3J0IHtJbmksIFV0aWxzfSBmcm9tICdhd3MtcHJvZmlsZS1oYW5kbGVyJztcbmNvbnN0IEluaSA9IHJlcXVpcmUoJy4vbm9kZV9tb2R1bGVzL2F3cy1wcm9maWxlLWhhbmRsZXIvbGliL2luaScpO1xuY29uc3QgVXRpbHMgPSByZXF1aXJlKCcuL25vZGVfbW9kdWxlcy9hd3MtcHJvZmlsZS1oYW5kbGVyL2xpYi91dGlscycpO1xuXG5jb25zdCBkZWZhdWx0RmlsZVBhdGggPSBwYXRoLmpvaW4ob3MuaG9tZWRpcigpLCAnLmF3cycsICdjcmVkZW50aWFscycpO1xuLy8gUmVtZW1iZXIgdG8gcmVuYW1lIHRoZXNlIGNsYXNzZXMgYW5kIGludGVyZmFjZXMhXG5mdW5jdGlvbiBhZGRQcm9maWxlKHByb2ZpbGU6IHN0cmluZywgY3JlZGVudGlhbHM6IE9iamVjdCwgZmlsZVBhdGggPzogc3RyaW5nKSB7XG5cdGlmICghcHJvZmlsZSB8fCBwcm9maWxlLnRyaW0oKS5sZW5ndGggPT09IDApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgSW5wdXQ6IHByb2ZpbGUgbmFtZSBjYW5ub3QgYmUgb21pdHRlZCBub3Igb25seSBjb250YWlucyB3aGl0ZSBzcGFjZXMuJyk7XG5cdH1cblxuXHRpZiAoIWNyZWRlbnRpYWxzIHx8IE9iamVjdC5rZXlzKGNyZWRlbnRpYWxzKS5sZW5ndGggPT09IDApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgSW5wdXQ6IGNyZWRlbnRpYWxzIGNhbm5vdCBiZSBvbWl0dGVkIG5vciBlbXB0eS4nKTtcblx0fVxuXG5cdGlmIChPYmplY3Qua2V5cyhjcmVkZW50aWFscykubGVuZ3RoIDwgMyB8fFxuXHRcdCFwcm9maWxlSGFuZGxlci5pc1ZhbGlkU2NoZW1hKGNyZWRlbnRpYWxzKSAmJlxuXHRcdCFwcm9maWxlSGFuZGxlci5pc1ZhbGlkQWx0U2NoZW1hKGNyZWRlbnRpYWxzKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbnB1dDogY3JlZGVudGlhbHMgc2NoZW1hIGlzIGludmFsaWQuJyk7XG5cdH1cblxuXHRsZXQgY3JlZGVudGlhbFBhdGggPSBmaWxlUGF0aCB8fCBkZWZhdWx0RmlsZVBhdGg7XG5cdGxldCBwcm9maWxlT2JqZWN0ID0gSW5pLmRlY29kZUluaURhdGEoVXRpbHMucmVhZEZpbGUoY3JlZGVudGlhbFBhdGgpKTtcblxuXHRsZXQgb3V0cHV0UHJvZmlsZU9iamVjdCA9IFV0aWxzLmRlZXBDb3B5KHByb2ZpbGVPYmplY3QpO1xuXHRvdXRwdXRQcm9maWxlT2JqZWN0W3Byb2ZpbGVdID0gY3JlZGVudGlhbHM7XG5cdGxldCBlbmNvZGVkUHJvZmlsZSA9IEluaS5lbmNvZGVJbmlGb3JtYXQob3V0cHV0UHJvZmlsZU9iamVjdCk7XG5cdFV0aWxzLndyaXRlRmlsZShjcmVkZW50aWFsUGF0aCwgZW5jb2RlZFByb2ZpbGUpO1xuXG59XG5cblxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xuXHRteVNldHRpbmc6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTXlQbHVnaW5TZXR0aW5ncyA9IHtcblx0bXlTZXR0aW5nOiAnZGVmYXVsdCdcbn1cbmNvbnN0IERFRkFVTFRfUFJPRklMRSA9ICdkZWZhdWx0JztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNvcnRlZFByb2ZpbGVzQ3JlZGVudGlhbHMoaW5jbHVkZURlZmF1bHRQcm9maWxlID0gdHJ1ZSkge1xuXG5cdGNvbnN0IGNyZWRlbnRpYWxzRmlsZSA9IHBhdGguam9pbihvcy5ob21lZGlyKCksICcuYXdzJywgJ2NyZWRlbnRpYWxzJyk7XG5cdGxldCByZXN1bHQgPSBbXTtcblxuXHRpZiAoZnMuZXhpc3RzU3luYyhjcmVkZW50aWFsc0ZpbGUpKSB7XG5cblx0XHQvLyBsaXN0UHJvZmlsZSB3aWxsIGNoZWNrIGlmIGZpbGUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHZhbGlkLFxuXHRcdC8vIG5vIG5lZWQgdG8gcHJvY2VlZCwganVzdCBjYWxsYmFjayB0aGUgZXJyb3IuXG5cdFx0dHJ5IHtcblx0XHRcdC8vIGlmIHRoZSBjcmVkZW50aWFsIGZpbGUgaXMgZW1wdHksIENMSSB3aWxsIG5hbWUgdGhlIGZpcnN0IHByb2ZpbGUgYXMgJ2RlZmF1bHQnXG5cdFx0XHRjb25zdCBwcm9maWxlcyA9IHByb2ZpbGVIYW5kbGVyLmxpc3RQcm9maWxlcygpO1xuXG5cdFx0XHRpZiAoaW5jbHVkZURlZmF1bHRQcm9maWxlID09PSBmYWxzZSkge1xuXHRcdFx0XHRjb25zdCBpbmRleCA9IHByb2ZpbGVzLmluZGV4T2YoREVGQVVMVF9QUk9GSUxFKTtcblxuXHRcdFx0XHRpZiAoaW5kZXggPiAtMSkge1xuXHRcdFx0XHRcdHByb2ZpbGVzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmVzdWx0ID0gcHJvZmlsZXMuc29ydCgpO1xuXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUubG9nKGBGaWxlICcke2NyZWRlbnRpYWxzRmlsZX0nIGlzIG5vdCB2YWxpZC5gKTtcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHR9XG5cblx0fVxuXHRlbHNlIHtcblx0XHRjb25zb2xlLmxvZyhgRmlsZSAnJHtjcmVkZW50aWFsc0ZpbGV9JyBkb2VzIG5vdCBleGlzdC5gKTtcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cblxuLy8gZXhwb3J0IGNsYXNzIEV4YW1wbGVNb2RhbF8xIGV4dGVuZHMgTW9kYWwge1xuLy8gXHRyZXN1bHQ6IHN0cmluZztcbi8vIFx0b25TdWJtaXQ6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZDtcblxuLy8gXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgb25TdWJtaXQ6IChyZXN1bHQ6IHN0cmluZykgPT4gdm9pZCkge1xuLy8gXHRcdHN1cGVyKGFwcCk7XG4vLyBcdFx0dGhpcy5vblN1Ym1pdCA9IG9uU3VibWl0O1xuLy8gXHR9XG5cbi8vIFx0b25PcGVuKCkge1xuLy8gXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXG4vLyBcdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwiaDFcIiwgeyB0ZXh0OiBcIldoYXQncyB5b3VyIG5hbWU/XCIgfSk7XG5cbi8vIFx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXG4vLyBcdFx0XHQuc2V0TmFtZShcIk5hbWVcIilcbi8vIFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuLy8gXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuLy8gXHRcdFx0XHRcdHRoaXMucmVzdWx0ID0gdmFsdWVcbi8vIFx0XHRcdFx0fSkpO1xuXG4vLyBcdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxuLy8gXHRcdFx0LmFkZEJ1dHRvbigoYnRuKSA9PlxuLy8gXHRcdFx0XHRidG5cbi8vIFx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dChcIlN1Ym1pdFwiKVxuLy8gXHRcdFx0XHRcdC5zZXRDdGEoKVxuLy8gXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcbi8vIFx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcbi8vIFx0XHRcdFx0XHRcdHRoaXMub25TdWJtaXQodGhpcy5yZXN1bHQpO1xuLy8gXHRcdFx0XHRcdH0pKTtcbi8vIFx0fVxuXG4vLyBcdG9uQ2xvc2UoKSB7XG4vLyBcdFx0bGV0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuLy8gXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuLy8gXHR9XG4vLyB9XG5cbmNvbnN0IHNvcnRlZFByb2ZpbGVzQ3JlZHMgPSBnZXRTb3J0ZWRQcm9maWxlc0NyZWRlbnRpYWxzKCk7IFxuXG5leHBvcnQgY2xhc3MgU3VnZ2VzdEF3c1Byb2ZpbGUgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8U3RyaW5nPiB7XG5cblx0Ly8gUmV0dXJucyBhbGwgYXZhaWxhYmxlIHN1Z2dlc3Rpb25zLlxuXHRnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogU3RyaW5nW10ge1xuXHRcdGxldCBsb2NhbHNvcnRlZFByb2ZpbGVzQ3JlZHMgPSBzb3J0ZWRQcm9maWxlc0NyZWRzO1xuXHRcdGxldCBjaG9pY2UgPSBsb2NhbHNvcnRlZFByb2ZpbGVzQ3JlZHMuZmlsdGVyKChwcm9maWxlOiBzdHJpbmcpID0+XG5cdFx0XHRwcm9maWxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcblx0XHQpO1xuXHRcdHJldHVybiBjaG9pY2Vcblx0fVxuXG5cdC8vIFJlbmRlcnMgZWFjaCBzdWdnZXN0aW9uIGl0ZW0uXG5cdHJlbmRlclN1Z2dlc3Rpb24ocHJvZmlsZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpIHtcblx0XHRlbC5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IHByb2ZpbGUgfSk7XG5cdH1cblxuXHQvLyBQZXJmb3JtIGFjdGlvbiBvbiB0aGUgc2VsZWN0ZWQgc3VnZ2VzdGlvbi5cblx0b25DaG9vc2VTdWdnZXN0aW9uKHByb2ZpbGU6IHN0cmluZywgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkge1xuXHRcdGxldCBwcm9maWxlQ3JlZHMgPSBwcm9maWxlSGFuZGxlci5nZXRQcm9maWxlQ3JlZGVudGlhbHMocHJvZmlsZSk7XG5cdFx0YWRkUHJvZmlsZShcImRlZmF1bHRcIiwgcHJvZmlsZUNyZWRzKTtcblx0XHRuZXcgTm90aWNlKGBTZWxlY3RlZCAke3Byb2ZpbGV9IGFzIERlZmF1bHRgKTtcblx0fVxufVxuXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogTXlQbHVnaW5TZXR0aW5ncztcblx0YXN5bmMgb25sb2FkKCkge1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcInN3aXRjaCBwcm9maWxlXCIsXG5cdFx0XHRuYW1lOiBcIlN3aXRjaCB0byBBV1MgcHJvZmlsZVwiLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJIZXksIHlvdSFcIitvcy5ob21lZGlyKCkpO1xuXHRcdFx0XHRuZXcgU3VnZ2VzdEF3c1Byb2ZpbGUodGhpcy5hcHApLm9wZW4oKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHRjb25zb2xlLmxvZygnbG9hZGluZyBwbHVnaW4nKVxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBUaGlzIGNyZWF0ZXMgYW4gaWNvbiBpbiB0aGUgbGVmdCByaWJib24uXG5cdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKCdkaWNlJywgJ0FXUyBQcm9maWxlIE1hbmFnZXInLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHQvLyBDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGljb24uXG5cdFx0XHRuZXcgTm90aWNlKCdIZWogQnJvLCBtYWtlIHlvdXIgYXdzIHByb2ZpbGUgY2hvaWNlICEnKTtcblx0XHRcdG5ldyBTdWdnZXN0QXdzUHJvZmlsZSh0aGlzLmFwcCkub3BlbigpO1xuXHRcdH0pO1xuXHRcdC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXG5cdFx0cmliYm9uSWNvbkVsLmFkZENsYXNzKCdteS1wbHVnaW4tcmliYm9uLWNsYXNzJyk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuXHRcdGNvbnN0IHN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdTdGF0dXMgQmFyIFRleHQnKTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHQvLyBJZiB0aGUgcGx1Z2luIGhvb2tzIHVwIGFueSBnbG9iYWwgRE9NIGV2ZW50cyAob24gcGFydHMgb2YgdGhlIGFwcCB0aGF0IGRvZXNuJ3QgYmVsb25nIHRvIHRoaXMgcGx1Z2luKVxuXHRcdC8vIFVzaW5nIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgd2hlbiB0aGlzIHBsdWdpbiBpcyBkaXNhYmxlZC5cblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCdjbGljaycsIGV2dCk7XG5cdFx0fSk7XG5cblx0XHQvLyBXaGVuIHJlZ2lzdGVyaW5nIGludGVydmFscywgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgY2xlYXIgdGhlIGludGVydmFsIHdoZW4gdGhlIHBsdWdpbiBpcyBkaXNhYmxlZC5cblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwod2luZG93LnNldEludGVydmFsKCgpID0+IGNvbnNvbGUubG9nKCdzZXRJbnRlcnZhbCcpLCA1ICogNjAgKiAxMDAwKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZygndW5sb2FkaW5nIHBsdWdpbicpXG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5jbGFzcyBTYW1wbGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogTXlQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTXlQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnU2V0dGluZ3MgZm9yIG15IGF3ZXNvbWUgcGx1Z2luLid9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1NldHRpbmcgIzEnKVxuXHRcdFx0LnNldERlc2MoJ0l0XFwncyBhIHNlY3JldCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciB5b3VyIHNlY3JldCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnU2VjcmV0OiAnICsgdmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBLHlEQUFBQSxTQUFBO0FBQUE7QUFFQSxRQUFNQyxPQUFOLE1BQVU7QUFBQSxNQUNOLE9BQU8sY0FBYyxTQUFTO0FBQzFCLFlBQUk7QUFDSixZQUFJLE1BQU0sQ0FBQztBQUNYLFlBQUksb0JBQW9CO0FBQ3hCLFlBQUksUUFBUSxRQUFRLE1BQU0sT0FBTztBQUVqQyxZQUFJQSxLQUFJLFlBQVksS0FBSztBQUFHLGlCQUFPLENBQUM7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
